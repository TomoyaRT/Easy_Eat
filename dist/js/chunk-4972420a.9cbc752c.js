(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4972420a"],{"03d2":function(t,n,e){t.exports=e.p+"img/promotion-title.50f867a3.svg"},"1a5c":function(t,n,e){t.exports=e.p+"img/5.1ee7c437.jpg"},"1dde":function(t,n,e){var o=e("d039"),a=e("b622"),r=e("2d00"),c=a("species");t.exports=function(t){return r>=51||!o((function(){var n=[],e=n.constructor={};return e[c]=function(){return{foo:1}},1!==n[t](Boolean).foo}))}},"25f0":function(t,n,e){"use strict";var o=e("6eeb"),a=e("825a"),r=e("d039"),c=e("ad6d"),u="toString",i=RegExp.prototype,s=i[u],p=r((function(){return"/a/b"!=s.call({source:"a",flags:"b"})})),l=s.name!=u;(p||l)&&o(RegExp.prototype,u,(function(){var t=a(this),n=String(t.source),e=t.flags,o=String(void 0===e&&t instanceof RegExp&&!("flags"in i)?c.call(t):e);return"/"+n+"/"+o}),{unsafe:!0})},4713:function(t,n,e){t.exports=e.p+"img/3.76c3797c.jpg"},"557c":function(t,n,e){"use strict";e.r(n);var o=e("7a23"),a=e("6eac"),r=e.n(a),c=e("03d2"),u=e.n(c),i={class:"user-page-coupon"},s={class:"coupon-container"},p=Object(o["j"])("img",{class:"jigsaw-puzzle-bg",src:r.a,alt:"拼圖的背景圖片"},null,-1),l=Object(o["j"])("img",{class:"jigsaw-puzzle-title",src:u.a,alt:"優惠券頁面標題"},null,-1),d={class:"how-to-play"},f=Object(o["j"])("i",{class:"bi bi-arrow-left-right"},null,-1),g={class:"jigsaw-puzzle"};function m(t,n,a,r,c,u){var m=Object(o["F"])("CouponModal");return Object(o["w"])(),Object(o["f"])("div",i,[Object(o["j"])("div",s,[p,l,Object(o["j"])("div",d,[Object(o["i"])(Object(o["I"])(c.playMethod)+"交換位置 ",1),f]),Object(o["j"])("div",g,[(Object(o["w"])(),Object(o["f"])(o["a"],null,Object(o["D"])(9,(function(t){return Object(o["j"])("div",{class:"jigsaw-puzzle-piece",key:t},[Object(o["j"])("img",{src:e("71d0")("./".concat(c.currentImgNameOrder[t-1],".jpg")),alt:"拼圖的部分圖片",class:{start:c.targetStartNum===t-1,enter:c.targetEnterNum===t-1},draggable:"true",onMousedown:n[1]||(n[1]=function(t){return u.classChange(t,"start")}),onMouseup:n[2]||(n[2]=function(t){return u.classChange(t,"cancel")}),onDragstart:n[3]||(n[3]=function(){return u.dragStart&&u.dragStart.apply(u,arguments)}),onDragover:n[4]||(n[4]=Object(o["T"])((function(){}),["prevent"])),onDragenter:n[5]||(n[5]=Object(o["T"])((function(){return u.dragEnter&&u.dragEnter.apply(u,arguments)}),["prevent"])),onDragend:n[6]||(n[6]=function(){return u.dragEnd&&u.dragEnd.apply(u,arguments)}),onDrop:n[7]||(n[7]=function(){return u.dropped&&u.dropped.apply(u,arguments)}),onTouchstart:n[8]||(n[8]=function(){return u.touchStart&&u.touchStart.apply(u,arguments)}),"data-num":t-1},null,42,["src","data-num"])])})),64))]),Object(o["j"])(m,{"coupon-modal-status":c.couponModalStatus,"coupon-data":c.currentCoupon,onCloseCouponModal:n[9]||(n[9]=function(t){return c.couponModalStatus=!1}),onRandomPuzzle:u.getRandomOrder,onRandomCoupon:u.randomCoupon,onCopyCouponCode:u.copyCoupon},null,8,["coupon-modal-status","coupon-data","onRandomPuzzle","onRandomCoupon","onCopyCouponCode"])])])}e("a434"),e("d3b7"),e("25f0"),e("b0c0");var h={class:"coupon-header"},b=Object(o["j"])("div",{class:"title"},"完成拼圖",-1),j={class:"coupon-main"},v=Object(o["j"])("h3",null,"恭喜獲得",-1),O={class:"coupon-footer"};function C(t,n,e,a,r,c){return Object(o["w"])(),Object(o["f"])("div",{class:["user-page-coupon-modal",{"coupon-modal-active":e.couponModalStatus}]},[Object(o["j"])("div",{class:["coupon-modal",{"modal-active":e.couponModalStatus}]},[Object(o["j"])("div",h,[b,Object(o["j"])("i",{class:"bi bi-x-lg",onClick:n[1]||(n[1]=function(){return c.closeModal&&c.closeModal.apply(c,arguments)})})]),Object(o["j"])("div",j,[v,Object(o["j"])("h2",null,Object(o["I"])(r.currentCoupon.name),1),Object(o["j"])("p",null,"在購物車輸入此序號可享"+Object(o["I"])(r.currentCoupon.discount)+"優惠",1),Object(o["j"])("input",{type:"text",readonly:"readonly",class:"coupon-code",value:r.currentCoupon.code},null,8,["value"])]),Object(o["j"])("div",O,[Object(o["j"])("button",{type:"button",class:"coupon-btn",onClick:n[2]||(n[2]=function(){return c.copyCoupon&&c.copyCoupon.apply(c,arguments)})}," 複製 ")])],2)],2)}var y={props:{couponModalStatus:{type:Boolean,default:function(){return!1}},couponData:{type:Object,default:function(){return{}}}},data:function(){return{currentCoupon:this.couponData}},watch:{couponData:function(){this.currentCoupon=this.couponData}},methods:{copyCoupon:function(){var t=this;navigator.clipboard.writeText(t.currentCoupon.code).then((function(){t.$emit("copy-coupon-code")}),(function(){t.$httpMessageState("failed","複製優惠券")}))},closeModal:function(){var t=this;this.$swal.fire({title:"再次確認",text:"拼圖已完成，是否確定不領取優惠券!?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"領取優惠券",cancelButtonText:"不領取"}).then((function(n){n.isConfirmed?t.copyCoupon():(t.$emit("random-puzzle"),t.$emit("random-coupon"),t.$emit("close-coupon-modal"))}))}}};y.render=C;var w=y,x=e("85a6"),M={components:{CouponModal:w},mixins:[x["a"]],data:function(){return{couponModalStatus:!1,correctImgNameOrder:["9","8","7","6","5","4","3","2","1"],currentImgNameOrder:[],targetStartNum:!1,targetEnterNum:!1,playMethod:"拖移",couponData:[{name:"七折優惠券",code:"R49des98",discount:"七折"},{name:"半價優惠券",code:"Y93ts439",discount:"五折"},{name:"超幸運三折優惠券",code:"E58rz94",discount:"三折"}],currentCoupon:{}}},methods:{randomCoupon:function(){var t=Math.floor(Math.random()*this.couponData.length);this.currentCoupon=this.couponData[t]},getRandomOrder:function(){var t=this;this.currentImgNameOrder=[];var n,e=[0,1,2,3,4,5,6,7,8],o=[],a=0;while(a<9)n=Math.floor(Math.random()*e.length),o.push(e[n]),e.splice(n,1),a+=1;o.forEach((function(n){var e="".concat(t.correctImgNameOrder[n]);t.currentImgNameOrder.push(e)}))},classChange:function(t,n){switch(n){case"start":this.targetStartNum=parseInt(t.target.dataset.num,10);break;case"enter":this.targetEnterNum=parseInt(t.target.dataset.num,10);break;case"cancel":this.targetStartNum=!1,this.targetEnterNum=!1;break;default:break}},dragStart:function(t){this.classChange(t,"start"),t.dataTransfer.setData("text/plain",t.target.dataset.num)},dragEnter:function(t){this.classChange(t,"enter")},dragEnd:function(){this.classChange("none","cancel")},dropped:function(t){var n=t.dataTransfer.getData("text/plain"),e=parseInt(t.target.dataset.num,10);this.changePuzzlePlace(n,e),this.classChange("none","cancel"),this.isPuzzleComplete()},changePuzzlePlace:function(t,n){var e=this.currentImgNameOrder,o=[e[n],e[t]];e[t]=o[0],e[n]=o[1],this.currentImgNameOrder=e},touchStart:function(t){var n=parseInt(t.target.dataset.num,10),e=this.targetStartNum;t.preventDefault(),n!==e?e?(this.classChange("none","cancel"),this.changePuzzlePlace(n,e),this.isPuzzleComplete()):this.classChange(t,"start"):this.classChange("none","cancel")},isPuzzleComplete:function(){var t=this;t.correctImgNameOrder.toString()===t.currentImgNameOrder.toString()&&setTimeout((function(){t.couponModalStatus=!0}),300)},copyCoupon:function(){this.$swal.fire("複製成功!","您已獲得優惠券代碼","success"),this.couponModalStatus=!1,this.getRandomOrder(),this.randomCoupon()}},created:function(){this.getRandomOrder(),this.randomCoupon(),null===window.ontouchstart&&(this.playMethod="點擊")}};M.render=m;n["default"]=M},"65f0":function(t,n,e){var o=e("861d"),a=e("e8b5"),r=e("b622"),c=r("species");t.exports=function(t,n){var e;return a(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!a(e.prototype)?o(e)&&(e=e[c],null===e&&(e=void 0)):e=void 0),new(void 0===e?Array:e)(0===n?0:n)}},"66b0":function(t,n,e){t.exports=e.p+"img/7.69bc74de.jpg"},"6ace":function(t,n,e){t.exports=e.p+"img/8.71de04d5.jpg"},"6adb":function(t,n,e){t.exports=e.p+"img/6.9326ec15.jpg"},"6eac":function(t,n,e){t.exports=e.p+"img/promotion-bg.7f30bde8.svg"},"71d0":function(t,n,e){var o={"./1.jpg":"9253","./2.jpg":"73b0","./3.jpg":"4713","./4.jpg":"83ee","./5.jpg":"1a5c","./6.jpg":"6adb","./7.jpg":"66b0","./8.jpg":"6ace","./9.jpg":"d0e5"};function a(t){var n=r(t);return e(n)}function r(t){if(!e.o(o,t)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return o[t]}a.keys=function(){return Object.keys(o)},a.resolve=r,t.exports=a,a.id="71d0"},"73b0":function(t,n,e){t.exports=e.p+"img/2.f0ee3817.jpg"},"83ee":function(t,n,e){t.exports=e.p+"img/4.6cc0703e.jpg"},8418:function(t,n,e){"use strict";var o=e("c04e"),a=e("9bf2"),r=e("5c6c");t.exports=function(t,n,e){var c=o(n);c in t?a.f(t,c,r(0,e)):t[c]=e}},"85a6":function(t,n,e){"use strict";n["a"]={created:function(){this.$emit("update-shopping-cart-products")}}},9253:function(t,n,e){t.exports=e.p+"img/1.e0363df2.jpg"},a434:function(t,n,e){"use strict";var o=e("23e7"),a=e("23cb"),r=e("a691"),c=e("50c4"),u=e("7b0b"),i=e("65f0"),s=e("8418"),p=e("1dde"),l=p("splice"),d=Math.max,f=Math.min,g=9007199254740991,m="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!l},{splice:function(t,n){var e,o,p,l,h,b,j=u(this),v=c(j.length),O=a(t,v),C=arguments.length;if(0===C?e=o=0:1===C?(e=0,o=v-O):(e=C-2,o=f(d(r(n),0),v-O)),v+e-o>g)throw TypeError(m);for(p=i(j,o),l=0;l<o;l++)h=O+l,h in j&&s(p,l,j[h]);if(p.length=o,e<o){for(l=O;l<v-o;l++)h=l+o,b=l+e,h in j?j[b]=j[h]:delete j[b];for(l=v;l>v-o+e;l--)delete j[l-1]}else if(e>o)for(l=v-o;l>O;l--)h=l+o-1,b=l+e-1,h in j?j[b]=j[h]:delete j[b];for(l=0;l<e;l++)j[l+O]=arguments[l+2];return j.length=v-o+e,p}})},b0c0:function(t,n,e){var o=e("83ab"),a=e("9bf2").f,r=Function.prototype,c=r.toString,u=/^\s*function ([^ (]*)/,i="name";o&&!(i in r)&&a(r,i,{configurable:!0,get:function(){try{return c.call(this).match(u)[1]}catch(t){return""}}})},d0e5:function(t,n,e){t.exports=e.p+"img/9.404e4bfe.jpg"},e8b5:function(t,n,e){var o=e("c6b6");t.exports=Array.isArray||function(t){return"Array"==o(t)}}}]);
//# sourceMappingURL=chunk-4972420a.9cbc752c.js.map