(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f87fca02"],{"09c7":function(t,e,a){"use strict";a("dfa4")},1695:function(t,e,a){},"1dde":function(t,e,a){var n=a("d039"),r=a("b622"),o=a("2d00"),c=r("species");t.exports=function(t){return o>=51||!n((function(){var e=[],a=e.constructor={};return a[c]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"36e1":function(t,e,a){t.exports=a.p+"img/Logo2.bd5136d6.png"},"4de4":function(t,e,a){"use strict";var n=a("23e7"),r=a("b727").filter,o=a("1dde"),c=o("filter");n({target:"Array",proto:!0,forced:!c},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var n=a("1d80"),r=a("5899"),o="["+r+"]",c=RegExp("^"+o+o+"*"),i=RegExp(o+o+"*$"),s=function(t){return function(e){var a=String(n(e));return 1&t&&(a=a.replace(c,"")),2&t&&(a=a.replace(i,"")),a}};t.exports={start:s(1),end:s(2),trim:s(3)}},"65f0":function(t,e,a){var n=a("861d"),r=a("e8b5"),o=a("b622"),c=o("species");t.exports=function(t,e){var a;return r(t)&&(a=t.constructor,"function"!=typeof a||a!==Array&&!r(a.prototype)?n(a)&&(a=a[c],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===e?0:e)}},"6ed0":function(t,e,a){"use strict";a("befb")},7156:function(t,e,a){var n=a("861d"),r=a("d2bb");t.exports=function(t,e,a){var o,c;return r&&"function"==typeof(o=e.constructor)&&o!==a&&n(c=o.prototype)&&c!==a.prototype&&r(t,c),t}},8418:function(t,e,a){"use strict";var n=a("c04e"),r=a("9bf2"),o=a("5c6c");t.exports=function(t,e,a){var c=n(e);c in t?r.f(t,c,o(0,a)):t[c]=a}},"962f":function(t,e,a){"use strict";e["a"]={data:function(){return{isLoading:!1,loadingObj:{bgc:"#FFFFFF",style:"dots",color:"#FF961F",height:128,width:128,opacity:.8}}}}},"99af":function(t,e,a){"use strict";var n=a("23e7"),r=a("d039"),o=a("e8b5"),c=a("861d"),i=a("7b0b"),s=a("50c4"),u=a("8418"),d=a("65f0"),l=a("1dde"),b=a("b622"),g=a("2d00"),p=b("isConcatSpreadable"),f=9007199254740991,h="Maximum allowed index exceeded",v=g>=51||!r((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),m=l("concat"),j=function(t){if(!c(t))return!1;var e=t[p];return void 0!==e?!!e:o(t)},O=!v||!m;n({target:"Array",proto:!0,forced:O},{concat:function(t){var e,a,n,r,o,c=i(this),l=d(c,0),b=0;for(e=-1,n=arguments.length;e<n;e++)if(o=-1===e?c:arguments[e],j(o)){if(r=s(o.length),b+r>f)throw TypeError(h);for(a=0;a<r;a++,b++)a in o&&u(l,b,o[a])}else{if(b>=f)throw TypeError(h);u(l,b++,o)}return l.length=b,l}})},a55b:function(t,e,a){"use strict";a.r(e);var n=a("7a23"),r=Object(n["U"])("data-v-e35f55a2");Object(n["z"])("data-v-e35f55a2");var o={class:"admin-page-container"},c={class:"admin-page-main"};Object(n["x"])();var i=r((function(t,e,a,r,i,s){var u=Object(n["F"])("Sidebar"),d=Object(n["F"])("Navbar"),l=Object(n["F"])("ToastMessages"),b=Object(n["F"])("router-view"),g=Object(n["F"])("Loading");return Object(n["w"])(),Object(n["f"])("div",o,[Object(n["j"])("div",{class:["admin-page-sidebar-overlay",{"sidebar-overlay-active":i.sidebarStatus}],onClick:e[1]||(e[1]=function(t){return i.sidebarStatus=!1})},null,2),Object(n["j"])(u,{class:["admin-page-sidebar",{"sidebar-active":i.sidebarStatus}],onCloseSidebar:e[2]||(e[2]=function(t){return i.sidebarStatus=!1}),"current-page":i.currentPage,onChangeCurrentPage:s.changeCurrentPage},null,8,["class","current-page","onChangeCurrentPage"]),Object(n["j"])("div",c,[Object(n["j"])(d,{class:"admin-page-navbar",onOpenSidebar:e[3]||(e[3]=function(t){return i.sidebarStatus=!0}),"navbar-title":i.navbarPageTitle,"navbar-btn-title":i.navbarOrderBtnTitle},null,8,["navbar-title","navbar-btn-title"]),Object(n["j"])(l),Object(n["j"])(b,{class:"admin-page-products","products-length":i.productsLength,"orders-length":i.ordersData.ordersNum,"coupons-length":i.couponsData.couponsNum,"total-income":i.totalIncome,onChangeNavbarPageTitle:s.changeNavbarPageTitle,onChangeNavbarBtnTitle:s.changeNavbarBtnTitle,onChangeCurrentPage:s.changeCurrentPage,onUpdateProductsNumber:s.getProducts,onUpdateOrdersNumber:s.getOrders,onUpdateCouponsNumber:s.getCoupons},null,8,["products-length","orders-length","coupons-length","total-income","onChangeNavbarPageTitle","onChangeNavbarBtnTitle","onChangeCurrentPage","onUpdateProductsNumber","onUpdateOrdersNumber","onUpdateCouponsNumber"])]),Object(n["j"])(g,{active:t.isLoading,"background-color":t.loadingObj.bgc,loader:t.loadingObj.style,color:t.loadingObj.color,opacity:t.loadingObj.opacity,height:t.loadingObj.height,width:t.loadingObj.width},null,8,["active","background-color","loader","color","opacity","height","width"])])})),s=(a("ac1f"),a("5319"),a("99af"),a("b64b"),a("a9e3"),a("b680"),a("d81d"),a("4de4"),a("b0c0"),a("cfb9")),u=a("f367"),d=a("36e1"),l=a.n(d),b={class:"admin-page-sidebar"},g={class:"sidebar-logo-container"},p=Object(n["j"])("img",{src:l.a,alt:"網站的Logo",class:"sidebar-logo"},null,-1),f={class:"admin-page-group"},h=Object(n["j"])("i",{class:"bi bi-bar-chart-line-fill"},null,-1),v=Object(n["i"])(" 資訊儀表板 "),m=Object(n["j"])("i",{class:"bi bi-bag-check-fill"},null,-1),j=Object(n["i"])(" 商品管理 "),O=Object(n["j"])("i",{class:"bi bi-file-text"},null,-1),y=Object(n["i"])(" 訂單管理 "),N=Object(n["j"])("i",{class:"bi bi-receipt"},null,-1),T=Object(n["i"])(" 優惠券管理 "),A={class:"sidebar-logout-container"},C=Object(n["j"])("i",{class:"bi bi-arrow-left"},null,-1);function P(t,e,a,r,o,c){var i=Object(n["F"])("router-link");return Object(n["w"])(),Object(n["f"])("div",b,[Object(n["j"])("div",g,[Object(n["j"])("i",{class:"bi bi-x-lg",onClick:e[1]||(e[1]=function(e){return t.$emit("close-sidebar")})}),Object(n["j"])(i,{to:{name:"Home"}},{default:Object(n["R"])((function(){return[p]})),_:1})]),Object(n["j"])("div",f,[Object(n["j"])(i,{to:"/adminHome",class:["admin-page-title",{"page-active":"AdminHome"===a.currentPage}],onClick:e[2]||(e[2]=function(t){return c.changeCurrentPage("AdminHome")})},{default:Object(n["R"])((function(){return[h,v]})),_:1},8,["class"]),Object(n["j"])(i,{to:"/adminproducts",class:["admin-page-title",{"page-active":"AdminProducts"===a.currentPage}],onClick:e[3]||(e[3]=function(t){return c.changeCurrentPage("AdminProducts")})},{default:Object(n["R"])((function(){return[m,j]})),_:1},8,["class"]),Object(n["j"])(i,{to:"/adminorders",class:["admin-page-title",{"page-active":"AdminOrders"===a.currentPage}],onClick:e[4]||(e[4]=function(t){return c.changeCurrentPage("AdminOrders")})},{default:Object(n["R"])((function(){return[O,y]})),_:1},8,["class"]),Object(n["j"])(i,{to:"/admincoupons",class:["admin-page-title",{"page-active":"AdminCoupons"===a.currentPage}],onClick:e[5]||(e[5]=function(t){return c.changeCurrentPage("AdminCoupons")})},{default:Object(n["R"])((function(){return[N,T]})),_:1},8,["class"])]),Object(n["j"])("div",A,[C,Object(n["j"])("span",{class:"logout",onClick:e[6]||(e[6]=Object(n["T"])((function(){return c.logout&&c.logout.apply(c,arguments)}),["prevent"]))},"登出")])])}var I={props:{currentPage:{type:String,default:function(){return""}}},methods:{changeCurrentPage:function(t){this.$emit("close-sidebar"),this.$emit("change-current-page",t)},logout:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/logout");this.$http.post(e,this.user).then((function(e){e.data.success&&t.$router.push({name:"Login"})}))}}};I.render=P;var D=I,w={class:"navbar-mobile-container"},k={class:"navbar-header-container"},x={class:"navbar-title"},F={class:"navbar-desktop-container"},L={class:"navbar-title"};function S(t,e,a,r,o,c){return Object(n["w"])(),Object(n["f"])("div",{class:["admin-page-navbar",{"home-page-navbar":"資訊儀表板"===o.pageTitle}]},[Object(n["j"])("div",w,[Object(n["j"])("div",k,[Object(n["j"])("i",{class:"bi bi-list",onClick:e[1]||(e[1]=function(e){return t.$emit("open-sidebar")})}),Object(n["j"])("h1",x,Object(n["I"])(o.pageTitle),1),"回前台首頁"===o.orderBtnTitle?(Object(n["w"])(),Object(n["f"])("i",{key:0,class:"bi bi-house-door",onClick:e[2]||(e[2]=function(t){return c.emitter.emit("open-modal",o.pageTitle)})})):"清除所有訂單"===o.orderBtnTitle?(Object(n["w"])(),Object(n["f"])("i",{key:1,class:"bi bi-trash2-fill",onClick:e[3]||(e[3]=function(t){return c.emitter.emit("open-modal",o.pageTitle)})})):(Object(n["w"])(),Object(n["f"])("i",{key:2,class:"bi bi-plus-lg",onClick:e[4]||(e[4]=function(t){return c.emitter.emit("open-modal",o.pageTitle)})}))])]),Object(n["j"])("div",F,[Object(n["j"])("h1",L,Object(n["I"])(o.pageTitle),1),Object(n["j"])("button",{type:"button",class:["navbar-button",{"order-page-btn":"清除所有訂單"===o.orderBtnTitle}],onClick:e[5]||(e[5]=function(t){return c.emitter.emit("open-modal",o.pageTitle)})},Object(n["I"])(o.orderBtnTitle),3)])],2)}var _={inject:["emitter"],props:{navbarTitle:{type:String,default:function(){return""}},navbarBtnTitle:{type:String,default:function(){return""}}},data:function(){return{pageTitle:"商品管理",orderBtnTitle:"建立商品"}},watch:{navbarTitle:function(){this.pageTitle=this.navbarTitle},navbarBtnTitle:function(){this.orderBtnTitle=this.navbarBtnTitle}}};_.render=S;var B=_,E=a("962f"),$={mixins:[E["a"]],components:{ToastMessages:u["a"],Sidebar:D,Navbar:B},provide:function(){return{emitter:s["a"]}},data:function(){return{sidebarStatus:!1,currentPage:"AdminHome",navbarPageTitle:"",navbarOrderBtnTitle:"",productsLength:0,ordersData:{page:1,pageNum:0,ordersArray:[],ordersNum:0,totalPages:0},couponsData:{page:1,pageNum:0,couponsArray:[],couponsNum:0,totalPages:0},totalIncome:0}},methods:{changeCurrentPage:function(t){this.currentPage=t},changeNavbarPageTitle:function(t){this.navbarPageTitle=t},changeNavbarBtnTitle:function(t){this.navbarOrderBtnTitle=t},loginVerification:function(){var t=this,e=document.cookie.replace(/(?:(?:^|.*;\s*)ecToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=e;var a="".concat("https://vue3-course-api.hexschool.io","/api/user/check");this.$http.post(a,this.user).then((function(e){e.data.success||t.$router.push({name:"Login"})}))},getProducts:function(){var t=this;this.isLoading=!0;var e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("ecommerce-website","/admin/products/all");this.$http.get(e).then((function(e){e.data.success&&(t.productsLength=Object.keys(e.data.products).length,t.isLoading=!1)}))},getOrders:function(){var t=this;this.isLoading=!0;var e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("ecommerce-website","/admin/orders?page=").concat(this.ordersData.page);this.$http.get(e).then((function(e){e.data.success?(t.ordersData.ordersNum=0,t.ordersData.ordersArray=[],t.ordersData.totalPages=e.data.pagination.total_pages,t.ordersData.ordersArray=t.ordersData.ordersArray.concat(e.data.orders),t.ordersData.pageNum=e.data.orders.length,t.ordersAPIManager()):(t.ordersData.ordersNum=t.ordersData.ordersArray.length,t.getTotalIncome(),t.isLoading=!1)}))},ordersAPIManager:function(){10===this.ordersData.pageNum&&this.ordersData.page!==this.ordersData.totalPages?(this.ordersData.page+=1,this.getOrders()):(this.ordersData.ordersNum=this.ordersData.ordersArray.length,this.getTotalIncome(),this.isLoading=!1)},getCoupons:function(){var t=this;this.isLoading=!0;var e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("ecommerce-website","/admin/coupons?page=").concat(this.couponsData.page);this.$http.get(e).then((function(e){e.data.success?(t.couponsData.couponsNum=0,t.couponsData.couponsArray=[],t.couponsData.totalPages=e.data.pagination.total_pages,t.couponsData.couponsArray=t.couponsData.couponsArray.concat(e.data.coupons),t.couponsData.pageNum=e.data.coupons.length,t.couponsAPIManager()):(t.couponsData.couponsNum=t.couponsData.couponsArray.length,t.isLoading=!1)}))},couponsAPIManager:function(){10===this.couponsData.pageNum&&this.couponsData.page!==this.couponsData.totalPages?(this.couponsData.page+=1,this.getCoupons()):(this.couponsData.couponsNum=this.couponsData.couponsArray.length,this.isLoading=!1)},getTotalIncome:function(){this.isLoading=!0,this.ordersData.ordersNum>0?this.totalIncome=Number(this.ordersData.ordersArray.filter((function(t){return t.is_paid})).map((function(t){return t.total})).reduce((function(t,e){return t+e})).toFixed(0)):this.totalIncome=0,this.isLoading=!1}},created:function(){this.loginVerification(),this.currentPage=this.$route.name,this.getProducts(),this.getOrders(),this.getCoupons()}};a("6ed0");$.render=i,$.__scopeId="data-v-e35f55a2";e["default"]=$},a9e3:function(t,e,a){"use strict";var n=a("83ab"),r=a("da84"),o=a("94ca"),c=a("6eeb"),i=a("5135"),s=a("c6b6"),u=a("7156"),d=a("c04e"),l=a("d039"),b=a("7c73"),g=a("241c").f,p=a("06cf").f,f=a("9bf2").f,h=a("58a8").trim,v="Number",m=r[v],j=m.prototype,O=s(b(j))==v,y=function(t){var e,a,n,r,o,c,i,s,u=d(t,!1);if("string"==typeof u&&u.length>2)if(u=h(u),e=u.charCodeAt(0),43===e||45===e){if(a=u.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+u}for(o=u.slice(2),c=o.length,i=0;i<c;i++)if(s=o.charCodeAt(i),s<48||s>r)return NaN;return parseInt(o,n)}return+u};if(o(v,!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var N,T=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof T&&(O?l((function(){j.valueOf.call(a)})):s(a)!=v)?u(new m(y(e)),a,T):y(e)},A=n?g(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),C=0;A.length>C;C++)i(m,N=A[C])&&!i(T,N)&&f(T,N,p(m,N));T.prototype=j,j.constructor=T,c(r,v,T)}},b0c0:function(t,e,a){var n=a("83ab"),r=a("9bf2").f,o=Function.prototype,c=o.toString,i=/^\s*function ([^ (]*)/,s="name";n&&!(s in o)&&r(o,s,{configurable:!0,get:function(){try{return c.call(this).match(i)[1]}catch(t){return""}}})},b64b:function(t,e,a){var n=a("23e7"),r=a("7b0b"),o=a("df75"),c=a("d039"),i=c((function(){o(1)}));n({target:"Object",stat:!0,forced:i},{keys:function(t){return o(r(t))}})},b727:function(t,e,a){var n=a("0366"),r=a("44ad"),o=a("7b0b"),c=a("50c4"),i=a("65f0"),s=[].push,u=function(t){var e=1==t,a=2==t,u=3==t,d=4==t,l=6==t,b=7==t,g=5==t||l;return function(p,f,h,v){for(var m,j,O=o(p),y=r(O),N=n(f,h,3),T=c(y.length),A=0,C=v||i,P=e?C(p,T):a||b?C(p,0):void 0;T>A;A++)if((g||A in y)&&(m=y[A],j=N(m,A,O),t))if(e)P[A]=j;else if(j)switch(t){case 3:return!0;case 5:return m;case 6:return A;case 2:s.call(P,m)}else switch(t){case 4:return!1;case 7:s.call(P,m)}return l?-1:u||d?d:P}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},befb:function(t,e,a){},d81d:function(t,e,a){"use strict";var n=a("23e7"),r=a("b727").map,o=a("1dde"),c=o("map");n({target:"Array",proto:!0,forced:!c},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},d8e6:function(t,e,a){"use strict";a("1695")},dfa4:function(t,e,a){},e8b5:function(t,e,a){var n=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}},f367:function(t,e,a){"use strict";var n=a("7a23"),r=Object(n["U"])("data-v-01566650");Object(n["z"])("data-v-01566650");var o={class:"toastMessages"};Object(n["x"])();var c=r((function(t,e,a,r,c,i){var s=Object(n["F"])("Toast");return Object(n["w"])(),Object(n["f"])("div",o,[(Object(n["w"])(!0),Object(n["f"])(n["a"],null,Object(n["D"])(c.messages,(function(t,e){return Object(n["w"])(),Object(n["f"])(s,{key:e,msg:t},null,8,["msg"])})),128))])})),i=Object(n["U"])("data-v-3c0e07a7");Object(n["z"])("data-v-3c0e07a7");var s={key:0,class:"toast-container"},u={class:"toast-title"},d={key:0,class:"toast-supplement"},l={class:"supplement-content"},b=Object(n["j"])("i",{class:"bi bi-exclamation-circle"},null,-1);Object(n["x"])();var g=i((function(t,e,a,r,o,c){return!0===o.toastActive?(Object(n["w"])(),Object(n["f"])("div",s,[Object(n["j"])("div",{class:["toast",{"status-success":"success"===a.msg.style,"status-danger":"danger"===a.msg.style}]},[Object(n["j"])("div",u,Object(n["I"])(a.msg.title),1),Object(n["j"])("i",{class:"bi bi-x-octagon",onClick:e[1]||(e[1]=function(t){return o.toastActive=!1})})],2),"danger"===a.msg.style?(Object(n["w"])(),Object(n["f"])("div",d,[Object(n["j"])("div",l,Object(n["I"])(a.msg.content),1),b])):Object(n["g"])("",!0)])):Object(n["g"])("",!0)})),p={data:function(){return{toastActive:!1}},props:["msg"],created:function(){var t=this;this.toastActive=!0,setTimeout((function(){t.toastActive=!1}),2500)}};a("d8e6");p.render=g,p.__scopeId="data-v-3c0e07a7";var f=p,h={components:{Toast:f},data:function(){return{messages:[]}},inject:["emitter"],mounted:function(){var t=this;this.emitter.on("push-message",(function(e){var a=e.style,n=void 0===a?"success":a,r=e.title,o=e.content;t.messages.push({style:n,title:r,content:o})}))}};a("09c7");h.render=c,h.__scopeId="data-v-01566650";e["a"]=h}}]);
//# sourceMappingURL=chunk-f87fca02.a52f2847.js.map