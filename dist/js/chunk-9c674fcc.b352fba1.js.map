{"version":3,"sources":["webpack:///./src/views/adminPages/Products.vue","webpack:///./src/components/adminPages/ProductModal.vue","webpack:///./src/components/adminPages/ProductModal.vue?4b58","webpack:///./src/views/adminPages/Products.vue?774a","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/core-js/modules/es.symbol.description.js"],"names":["class","productEditStatus","products","product","key","id","src","imageUrl","alt","category","title","$filters","currency","origin_price","price","is_enabled","openModal","active","isLoading","pagination","getProducts","productModalStatus","tempProduct","product-modal","productModal","updateProduct","deletModalStatus","delet-modal","for","type","$emit","imageSwitch","ref","uploadFile","image","placeholder","unit","nutrientContent","calories","protein","fat","carbohydrates","description","content","btn","data","props","Object","default","watch","this","methods","uploadedFile","$refs","fileInput","files","name","formData","FormData","append","api","$http","post","then","res","success","$httpMessageState","render","mixins","AdminPagesUniversal","components","ProductModal","nowPage","productStatus","page","get","goTop","status","item","httpMethod","window","scrollTo","top","behavior","created","emitter","on","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","call","match","error","$","global","has","isObject","copyConstructorProperties","NativeSymbol","Symbol","undefined","EmptyStringDescriptionStore","SymbolWrapper","arguments","length","String","result","symbolPrototype","constructor","symbolToString","native","regexp","symbol","valueOf","string","desc","slice","replace","forced"],"mappings":"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","file":"js/chunk-9c674fcc.b352fba1.js","sourcesContent":["<template>\n  <div class=\"admin-page-products\">\n    <!-- 商品管理列表 Main -->\n    <div class=\"products-container\">\n      <!-- 標題列 -->\n      <div class=\"products-title-group\">\n        <div class=\"products-img\">圖片</div>\n        <div class=\"products-category\">類別</div>\n        <div class=\"products-name\">名稱</div>\n        <div class=\"products-origin-price\">原價</div>\n        <div class=\"products-price\">售價</div>\n        <div class=\"products-status\">啟用狀態</div>\n        <div class=\"product-edit-btn-group\">\n          <i\n            class=\"bi bi-toggle2-off\"\n            @click=\"productEditStatus = true\"\n            v-if=\"!productEditStatus\"\n          ></i>\n          <i\n            class=\"bi bi-toggle2-on\"\n            @click=\"productEditStatus = false\"\n            v-else\n          ></i>\n        </div>\n      </div>\n      <!-- 內容列 -->\n      <div\n        class=\"products-content-group\"\n        v-for=\"product in products\"\n        :key=\"product.id\"\n      >\n        <div class=\"products-img-container\">\n          <img :src=\"product.imageUrl\" alt=\"商品圖片\" class=\"products-img\" />\n        </div>\n        <div class=\"products-category\">{{ product.category }}</div>\n        <div class=\"products-title\">\n          <p>{{ product.title }}</p>\n        </div>\n        <div class=\"products-origin-price\">\n          ${{ $filters.currency(product.origin_price) }}\n        </div>\n        <div class=\"products-price\">\n          ${{ $filters.currency(product.price) }}\n        </div>\n        <div class=\"products-status-enabled\" v-if=\"product.is_enabled\">\n          啟用\n        </div>\n        <div class=\"products-status-unenabled\" v-else>未啟用</div>\n        <i\n          class=\"bi bi-pencil-fill\"\n          @click=\"openModal('編輯商品', product)\"\n          v-if=\"productEditStatus\"\n        ></i>\n        <i\n          class=\"bi bi-trash\"\n          @click=\"openModal('刪除商品', product)\"\n          v-else\n        ></i>\n      </div>\n    </div>\n    <!-- Loading -->\n    <Loading :active=\"isLoading\"></Loading>\n    <!-- 分頁模板 -->\n    <Pagination :pagination=\"pagination\" @change-page=\"getProducts\" />\n    <!-- 商品模板 -->\n    <ProductModal\n      :class=\"{ 'modal-active': productModalStatus }\"\n      @close-modal=\"productModalStatus = false\"\n      :product=\"tempProduct\"\n      :product-modal=\"productModal\"\n      @create-product=\"updateProduct\"\n    />\n    <!-- 刪除模板 -->\n    <DeletModal\n      :class=\"{ 'modal-active': deletModalStatus }\"\n      :delet-modal=\"tempProduct\"\n      @delete-product=\"updateProduct\"\n      @close-modal=\"deletModalStatus = false\"\n    />\n  </div>\n</template>\n\n<script>\nimport ProductModal from \"../../components/adminPages/ProductModal.vue\";\nimport AdminPagesUniversal from \"../../mixins/adminPages/AdminPagesUniversal\";\n\nexport default {\n  mixins: [AdminPagesUniversal],\n  // 區域註冊子元件\n  components: {\n    ProductModal,\n  },\n  data() {\n    return {\n      productModalStatus: false, // 商品模板 是否開啟\n      deletModalStatus: false, // 刪除模板 是否開啟\n      productEditStatus: true, // 切換編輯 / 刪除按鈕\n      products: [], // API商品資料\n      nowPage: 1, // 當前分頁(預設為 1)\n      tempProduct: {}, // 新增、編輯、刪除商品的模板資料\n      productStatus: \"\", // 使用者當前選擇的商品狀態\n      productModal: {\n        // 商品模板的動態內容\n        title: \"新增商品\",\n        btn: \"建立\",\n      },\n    };\n  },\n\n  methods: {\n    // 取得商品資料(按照分頁)\n    getProducts(page) {\n      this.nowPage = page; // 保存當前分頁頁數\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/products?page=${this.nowPage}`;\n      this.isLoading = true; // 開啟Loading元件\n      this.$http.get(api).then((res) => {\n        this.isLoading = false; // 關閉Loading元件\n        if (res.data.success) {\n          this.products = res.data.products;\n          this.pagination = res.data.pagination;\n          this.goTop();\n        }\n      });\n    },\n    // 打開商品模板功能\n    openModal(status, item) {\n      this.productStatus = status; // 保存目前商品狀態\n      if (status === \"新增商品\") {\n        this.tempProduct = { nutrientContent: {} }; // 清空模板內容\n        this.productModal = { title: \"新增商品\", btn: \"建立\" };\n        this.productModalStatus = true; // 如為商品管理頁面，則開啟商品模板\n      } else if (status === \"編輯商品\") {\n        this.tempProduct = { ...item };\n        this.productModal.title = \"修改商品\";\n        this.productModal.btn = \"更新\";\n        this.productModalStatus = true;\n      } else {\n        this.tempProduct = { ...item };\n        this.deletModalStatus = true;\n      }\n    },\n    // 更新商品資料\n    updateProduct(item) {\n      this.isLoading = true; // 開啟Loading元件\n      this.tempProduct = item; // 存入商品資料\n      // 新增商品\n      let api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product`;\n      let httpMethod = \"post\";\n      // 編輯商品\n      if (this.productStatus === \"編輯商品\") {\n        api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`;\n        httpMethod = \"put\";\n      } else if (this.productStatus === \"刪除商品\") {\n        api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`;\n        httpMethod = \"delete\";\n      }\n      // 發送API\n      this.$http[httpMethod](api, { data: this.tempProduct }).then((res) => {\n        this.productModalStatus = false; // 關閉商品模板\n        this.deletModalStatus = false; // 關閉刪除模板\n        this.isLoading = false; // 關閉Loading元件\n        this.getProducts(this.nowPage); // 取得商品資料、帶入當前頁數、渲染畫面。\n        // 測試回饋訊息\n        switch (this.productStatus) {\n          case \"新增商品\":\n            this.$httpMessageState(res, \"新增商品\");\n            break;\n          case \"編輯商品\":\n            this.$httpMessageState(res, \"編輯商品\");\n            break;\n          default:\n            this.$httpMessageState(res, \"刪除商品\");\n        }\n      });\n    },\n    // 滾動至頂\n    goTop() {\n      window.scrollTo({\n        top: 0,\n        behavior: \"smooth\",\n      });\n    },\n  },\n  created() {\n    // 更改Navbar頁面標題\n    this.$emit(\"change-navbar-page-title\", \"商品管理\");\n    // 更改Navbar表單按鈕標題\n    this.$emit(\"change-navbar-btn-title\", \"建立商品\");\n\n    // 監聽Navbar的 新增按鈕\n    this.emitter.on(\"open-modal\", (status) => {\n      if (status === \"商品管理\") {\n        this.openModal(\"新增商品\");\n      }\n    });\n\n    // 取得商品資料\n    this.getProducts(this.nowPage);\n  },\n};\n</script>","<template>\n  <div class=\"admin-page-product-modal\">\n    <div class=\"product-modal-container\">\n      <div class=\"modal-header-container\">\n        <h1 class=\"product-modal-title\">{{ productModal.title }}</h1>\n        <i class=\"bi bi-x-lg\" @click=\"$emit('close-modal')\"></i>\n      </div>\n      <!-- 切換成平板 電腦版 -->\n      <div class=\"product-modal-desktop-container\">\n        <div class=\"modal-image-container\">\n          <div class=\"product-image-range\" v-if=\"!tempProduct.imageUrl\"></div>\n          <img\n            :src=\"tempProduct.imageUrl\"\n            alt=\"商品圖片\"\n            class=\"product-image\"\n            v-if=\"tempProduct.imageUrl\"\n          />\n          <h3>圖片來源</h3>\n          <button\n            type=\"button\"\n            class=\"btn-upload\"\n            :class=\"{ 'upload-active': imageSwitch === 'upload' }\"\n            @click=\"imageSwitch = 'upload'\"\n          >\n            上傳\n          </button>\n          <button\n            type=\"button\"\n            class=\"btn-url\"\n            :class=\"{ 'url-active': imageSwitch === 'url' }\"\n            @click=\"imageSwitch = 'url'\"\n          >\n            網址\n          </button>\n          <div class=\"product-image-upload\" v-if=\"imageSwitch === 'upload'\">\n            <input\n              type=\"file\"\n              id=\"file\"\n              class=\"image-upload-origin-input\"\n              ref=\"fileInput\"\n              @change=\"uploadFile\"\n            />\n            <label for=\"file\" class=\"image-upload-input\">{{ tempProduct.image || '未選擇圖片檔案' }}</label>\n            <label for=\"file\" class=\"image-upload-btn\">瀏覽</label>\n          </div>\n          <div class=\"product-image-url\" v-if=\"imageSwitch === 'url'\">\n            <input\n              type=\"text\"\n              class=\"image-url-input\"\n              placeholder=\"請輸入圖片連結\"\n              v-model=\"tempProduct.imageUrl\"\n            />\n            <button type=\"button\" class=\"image-url-btn\">確認</button>\n          </div>\n          <h3>是否上架</h3>\n          <div class=\"product-status-switch-container\">\n            <input\n              type=\"checkbox\"\n              id=\"productStatus\"\n              class=\"switch-checkbox\"\n              v-model=\"tempProduct.is_enabled\"\n            />\n            <label for=\"productStatus\" class=\"switch-label\"></label>\n          </div>\n        </div>\n        <div class=\"modal-product-container\">\n          <div class=\"product-name-container\">\n            <label for=\"name\" class=\"product-name\">商品名稱</label>\n            <input\n              type=\"text\"\n              id=\"name\"\n              class=\"product-name-input\"\n              v-model=\"tempProduct.title\"\n            />\n          </div>\n          <div class=\"product-two-column-layout\">\n            <div class=\"product-category-container\">\n              <label for=\"category\" class=\"product-category\">商品分類</label>\n              <input\n                type=\"text\"\n                id=\"category\"\n                class=\"product-category-input\"\n                v-model=\"tempProduct.category\"\n              />\n            </div>\n            <div class=\"product-unit-container\">\n              <label for=\"unit\" class=\"product-unit\">單位</label>\n              <input\n                type=\"text\"\n                id=\"unit\"\n                class=\"product-unit-input\"\n                v-model=\"tempProduct.unit\"\n              />\n            </div>\n          </div>\n          <div class=\"product-two-column-layout\">\n            <div class=\"product-origin-price-container\">\n              <label for=\"origin-price\" class=\"product-origin-price\"\n                >原價</label\n              >\n              <input\n                type=\"number\"\n                class=\"product-origin-price-input\"\n                id=\"origin-price\"\n                v-model.number=\"tempProduct.origin_price\"\n              />\n            </div>\n            <div class=\"product-price-container\">\n              <label for=\"price\" class=\"product-price\">售價</label>\n              <input\n                type=\"number\"\n                id=\"price\"\n                class=\"product-price-input\"\n                v-model.number=\"tempProduct.price\"\n              />\n            </div>\n          </div>\n          <div class=\"product-two-column-layout\">\n            <div class=\"product-calories-container\">\n              <label for=\"calories\" class=\"product-calories\">熱量</label>\n              <input\n                type=\"number\"\n                id=\"calories\"\n                class=\"product-calories-input\"\n                v-model.number=\"tempProduct.nutrientContent.calories\"\n              />\n            </div>\n            <div class=\"product-protein-container\">\n              <label for=\"protein\" class=\"product-protein\">蛋白質</label>\n              <input\n                type=\"number\"\n                id=\"protein\"\n                class=\"product-protein-input\"\n                v-model.number=\"tempProduct.nutrientContent.protein\"\n              />\n            </div>\n          </div>\n          <div class=\"product-two-column-layout\">\n            <div class=\"product-fat-container\">\n              <label for=\"fat\" class=\"product-fat\">脂肪</label>\n              <input\n                type=\"number\"\n                id=\"fat\"\n                class=\"product-fat-input\"\n                v-model.number=\"tempProduct.nutrientContent.fat\"\n              />\n            </div>\n            <div class=\"product-carbohydrates-container\">\n              <label for=\"carbohydrates\" class=\"product-carbohydrates\"\n                >碳水化合物</label\n              >\n              <input\n                type=\"number\"\n                id=\"carbohydrates\"\n                class=\"product-carbohydrates-input\"\n                v-model.number=\"tempProduct.nutrientContent.carbohydrates\"\n              />\n            </div>\n          </div>\n          <div class=\"product-summary-container\">\n            <label for=\"description\" class=\"product-summary\">商品摘要</label>\n            <textarea\n              id=\"description\"\n              class=\"product-summary-textarea\"\n              v-model=\"tempProduct.description\"\n            ></textarea>\n          </div>\n          <div class=\"product-content-container\">\n            <label for=\"content\" class=\"product-content\">商品說明</label>\n            <textarea\n              id=\"content\"\n              class=\"product-content-textarea\"\n              v-model=\"tempProduct.content\"\n            ></textarea>\n          </div>\n          <div class=\"modal-footer-container\">\n            <button\n              type=\"button\"\n              class=\"product-modal-cancel\"\n              @click=\"$emit('close-modal')\"\n            >\n              取消\n            </button>\n            <button\n              type=\"button\"\n              class=\"product-modal-create\"\n              @click=\"$emit('create-product', tempProduct)\"\n            >\n              {{ productModal.btn }}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      imageSwitch: \"upload\", // 切換上傳圖片 & 輸入圖片連結\n      tempProduct: {nutrientContent:{}}, // 接收父元件的資料\n    };\n  },\n  props: {\n    product: {\n      type: Object,\n      default() {\n        return {};\n      },\n    },\n    productModal: {\n      type: Object,\n      default() {\n        return {};\n      },\n    },\n  },\n  watch: {\n    // 單一數據流，使用tempProduct接收、更改、並回傳。\n    product() {\n      this.tempProduct = this.product;\n    },\n  },\n  methods: {\n    // 上傳檔案功能\n    uploadFile() {\n      const uploadedFile = this.$refs.fileInput.files[0];\n      this.tempProduct.image = uploadedFile.name;\n      const formData = new FormData();\n      formData.append(\"file-to-upload\", uploadedFile);\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/upload`;\n      this.$http.post(api, formData).then((res) => {\n        if (res.data.success) {\n          this.tempProduct.imageUrl = res.data.imageUrl;\n          this.$httpMessageState(res, \"圖片上傳\");\n        }\n      });\n    },\n  },\n};\n</script>","import { render } from \"./ProductModal.vue?vue&type=template&id=c3c33f4e\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Products.vue?vue&type=template&id=52a1e630\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n"],"sourceRoot":""}