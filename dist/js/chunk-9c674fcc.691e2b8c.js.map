{"version":3,"sources":["webpack:///./src/views/adminPages/Products.vue","webpack:///./src/components/adminPages/ProductModal.vue","webpack:///./src/components/adminPages/ProductModal.vue?18b3","webpack:///./src/views/adminPages/Products.vue?f2ac","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/core-js/modules/es.symbol.description.js"],"names":["class","productEditStatus","products","product","key","id","src","imageUrl","alt","category","title","$filters","currency","origin_price","price","is_enabled","openModal","active","isLoading","background-color","loadingObj","bgc","loader","style","color","opacity","height","width","pagination","getProducts","productModalStatus","tempProduct","product-modal","productModal","updateProduct","deletModalStatus","delet-modal","for","type","$emit","imageSwitch","ref","uploadFile","image","placeholder","unit","nutrientContent","calories","protein","fat","carbohydrates","description","content","btn","data","props","Object","default","watch","this","methods","uploadedFile","$refs","fileInput","files","name","formData","FormData","append","api","$http","post","then","res","success","$httpMessageState","render","mixins","AdminPagesUniversal","LoadingConfiguration","components","ProductModal","nowPage","productStatus","page","get","goTop","status","item","httpMethod","window","scrollTo","top","behavior","created","emitter","on","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","call","match","error","$","global","has","isObject","copyConstructorProperties","NativeSymbol","Symbol","undefined","EmptyStringDescriptionStore","SymbolWrapper","arguments","length","String","result","symbolPrototype","constructor","symbolToString","native","regexp","symbol","valueOf","string","desc","slice","replace","forced"],"mappings":"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","file":"js/chunk-9c674fcc.691e2b8c.js","sourcesContent":["<template>\r\n  <div class=\"admin-page-products\">\r\n    <!-- 商品管理列表 Main -->\r\n    <div class=\"products-container\">\r\n      <!-- 標題列 -->\r\n      <div class=\"products-title-group\">\r\n        <div class=\"products-img\">圖片</div>\r\n        <div class=\"products-category\">類別</div>\r\n        <div class=\"products-name\">名稱</div>\r\n        <div class=\"products-origin-price\">原價</div>\r\n        <div class=\"products-price\">售價</div>\r\n        <div class=\"products-status\">啟用狀態</div>\r\n        <div class=\"product-edit-btn-group\">\r\n          <i\r\n            class=\"bi bi-toggle2-off\"\r\n            @click=\"productEditStatus = true\"\r\n            v-if=\"!productEditStatus\"\r\n          ></i>\r\n          <i\r\n            class=\"bi bi-toggle2-on\"\r\n            @click=\"productEditStatus = false\"\r\n            v-else\r\n          ></i>\r\n        </div>\r\n      </div>\r\n      <!-- 內容列 -->\r\n      <div\r\n        class=\"products-content-group\"\r\n        v-for=\"product in products\"\r\n        :key=\"product.id\"\r\n      >\r\n        <div class=\"products-img-container\">\r\n          <img :src=\"product.imageUrl\" alt=\"商品圖片\" class=\"products-img\" />\r\n        </div>\r\n        <div class=\"products-category\">{{ product.category }}</div>\r\n        <div class=\"products-title\">\r\n          <p>{{ product.title }}</p>\r\n        </div>\r\n        <div class=\"products-origin-price\">\r\n          ${{ $filters.currency(product.origin_price) }}\r\n        </div>\r\n        <div class=\"products-price\">\r\n          ${{ $filters.currency(product.price) }}\r\n        </div>\r\n        <div class=\"products-status-enabled\" v-if=\"product.is_enabled\">\r\n          啟用\r\n        </div>\r\n        <div class=\"products-status-unenabled\" v-else>未啟用</div>\r\n        <i\r\n          class=\"bi bi-pencil-fill\"\r\n          @click=\"openModal('編輯商品', product)\"\r\n          v-if=\"productEditStatus\"\r\n        ></i>\r\n        <i\r\n          class=\"bi bi-trash\"\r\n          @click=\"openModal('刪除商品', product)\"\r\n          v-else\r\n        ></i>\r\n      </div>\r\n    </div>\r\n    <Loading\r\n      :active=\"isLoading\"\r\n      :background-color=\"loadingObj.bgc\"\r\n      :loader=\"loadingObj.style\"\r\n      :color=\"loadingObj.color\"\r\n      :opacity=\"loadingObj.opacity\"\r\n      :height=\"loadingObj.height\"\r\n      :width=\"loadingObj.width\"\r\n    />\r\n    <!-- 分頁模板 -->\r\n    <Pagination :pagination=\"pagination\" @change-page=\"getProducts\" />\r\n    <!-- 商品模板 -->\r\n    <ProductModal\r\n      :class=\"{ 'modal-active': productModalStatus }\"\r\n      @close-modal=\"productModalStatus = false\"\r\n      :product=\"tempProduct\"\r\n      :product-modal=\"productModal\"\r\n      @create-product=\"updateProduct\"\r\n    />\r\n    <!-- 刪除模板 -->\r\n    <DeletModal\r\n      :class=\"{ 'modal-active': deletModalStatus }\"\r\n      :delet-modal=\"tempProduct\"\r\n      @delete-product=\"updateProduct\"\r\n      @close-modal=\"deletModalStatus = false\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ProductModal from \"@/components/adminPages/ProductModal.vue\";\r\nimport AdminPagesUniversal from \"@/mixins/adminPages/AdminPagesUniversal\";\r\nimport LoadingConfiguration from \"@/mixins/LoadingConfiguration\";\r\n\r\nexport default {\r\n  mixins: [AdminPagesUniversal, LoadingConfiguration],\r\n  // 區域註冊子元件\r\n  components: {\r\n    ProductModal,\r\n  },\r\n  data() {\r\n    return {\r\n      productModalStatus: false, // 商品模板 是否開啟\r\n      deletModalStatus: false, // 刪除模板 是否開啟\r\n      productEditStatus: true, // 切換編輯 / 刪除按鈕\r\n      products: [], // API商品資料\r\n      nowPage: 1, // 當前分頁(預設為 1)\r\n      tempProduct: {}, // 新增、編輯、刪除商品的模板資料\r\n      productStatus: \"\", // 使用者當前選擇的商品狀態\r\n      productModal: {\r\n        // 商品模板的動態內容\r\n        title: \"新增商品\",\r\n        btn: \"建立\",\r\n      },\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    // 取得商品資料(按照分頁)\r\n    getProducts(page) {\r\n      this.isLoading = true;\r\n      this.nowPage = page; // 保存當前分頁頁數\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/products?page=${this.nowPage}`;\r\n      this.$http.get(api).then((res) => {\r\n        this.isLoading = false; // 關閉Loading元件\r\n        if (res.data.success) {\r\n          this.products = res.data.products;\r\n          this.pagination = res.data.pagination;\r\n          this.goTop();\r\n        }\r\n      });\r\n    },\r\n    // 打開商品模板功能\r\n    openModal(status, item) {\r\n      this.productStatus = status; // 保存目前商品狀態\r\n      if (status === \"新增商品\") {\r\n        this.tempProduct = { nutrientContent: {} }; // 清空模板內容\r\n        this.productModal = { title: \"新增商品\", btn: \"建立\" };\r\n        this.productModalStatus = true; // 如為商品管理頁面，則開啟商品模板\r\n      } else if (status === \"編輯商品\") {\r\n        this.tempProduct = { ...item };\r\n        this.productModal.title = \"修改商品\";\r\n        this.productModal.btn = \"更新\";\r\n        this.productModalStatus = true;\r\n      } else {\r\n        this.tempProduct = { ...item };\r\n        this.deletModalStatus = true;\r\n      }\r\n    },\r\n    // 更新商品資料\r\n    updateProduct(item) {\r\n      this.isLoading = true; // 開啟Loading元件\r\n      this.tempProduct = item; // 存入商品資料\r\n      // 新增商品\r\n      let api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product`;\r\n      let httpMethod = \"post\";\r\n      // 編輯商品\r\n      if (this.productStatus === \"編輯商品\") {\r\n        api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`;\r\n        httpMethod = \"put\";\r\n      } else if (this.productStatus === \"刪除商品\") {\r\n        api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`;\r\n        httpMethod = \"delete\";\r\n      }\r\n      // 發送API\r\n      this.$http[httpMethod](api, { data: this.tempProduct }).then((res) => {\r\n        this.productModalStatus = false; // 關閉商品模板\r\n        this.deletModalStatus = false; // 關閉刪除模板\r\n        this.isLoading = false; // 關閉Loading元件\r\n        this.getProducts(this.nowPage); // 取得商品資料、帶入當前頁數、渲染畫面。\r\n        this.$emit(\"update-products-number\");\r\n        // 使用者回饋訊息\r\n        switch (this.productStatus) {\r\n          case \"新增商品\":\r\n            this.$httpMessageState(res, \"新增商品\");\r\n            break;\r\n          case \"編輯商品\":\r\n            this.$httpMessageState(res, \"編輯商品\");\r\n            break;\r\n          default:\r\n            this.$httpMessageState(res, \"刪除商品\");\r\n        }\r\n      });\r\n    },\r\n    // 滾動至頂\r\n    goTop() {\r\n      window.scrollTo({\r\n        top: 0,\r\n        behavior: \"smooth\",\r\n      });\r\n    },\r\n  },\r\n  created() {\r\n    // 更改Navbar頁面標題\r\n    this.$emit(\"change-navbar-page-title\", \"商品管理\");\r\n    // 更改Navbar表單按鈕標題\r\n    this.$emit(\"change-navbar-btn-title\", \"建立商品\");\r\n\r\n    // 監聽Navbar的 新增按鈕\r\n    this.emitter.on(\"open-modal\", (status) => {\r\n      if (status === \"商品管理\") {\r\n        this.openModal(\"新增商品\");\r\n      }\r\n    });\r\n\r\n    // 取得商品資料\r\n    this.getProducts(this.nowPage);\r\n  },\r\n};\r\n</script>","<template>\r\n  <div class=\"admin-page-product-modal\">\r\n    <div class=\"product-modal-container\">\r\n      <div class=\"modal-header-container\">\r\n        <h1 class=\"product-modal-title\">{{ productModal.title }}</h1>\r\n        <i class=\"bi bi-x-lg\" @click=\"$emit('close-modal')\"></i>\r\n      </div>\r\n      <!-- 切換成平板 電腦版 -->\r\n      <div class=\"product-modal-desktop-container\">\r\n        <div class=\"modal-image-container\">\r\n          <div class=\"product-image-range\" v-if=\"!tempProduct.imageUrl\"></div>\r\n          <img\r\n            :src=\"tempProduct.imageUrl\"\r\n            alt=\"商品圖片\"\r\n            class=\"product-image\"\r\n            v-if=\"tempProduct.imageUrl\"\r\n          />\r\n          <h3>圖片來源</h3>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn-upload\"\r\n            :class=\"{ 'upload-active': imageSwitch === 'upload' }\"\r\n            @click=\"imageSwitch = 'upload'\"\r\n          >\r\n            上傳\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn-url\"\r\n            :class=\"{ 'url-active': imageSwitch === 'url' }\"\r\n            @click=\"imageSwitch = 'url'\"\r\n          >\r\n            網址\r\n          </button>\r\n          <div class=\"product-image-upload\" v-if=\"imageSwitch === 'upload'\">\r\n            <input\r\n              type=\"file\"\r\n              id=\"file\"\r\n              class=\"image-upload-origin-input\"\r\n              ref=\"fileInput\"\r\n              @change=\"uploadFile\"\r\n            />\r\n            <label for=\"file\" class=\"image-upload-input\">{{\r\n              tempProduct.image || \"未選擇圖片檔案\"\r\n            }}</label>\r\n            <label for=\"file\" class=\"image-upload-btn\">瀏覽</label>\r\n          </div>\r\n          <div class=\"product-image-url\" v-if=\"imageSwitch === 'url'\">\r\n            <input\r\n              type=\"text\"\r\n              class=\"image-url-input\"\r\n              placeholder=\"請輸入圖片連結\"\r\n              v-model=\"tempProduct.imageUrl\"\r\n            />\r\n            <button type=\"button\" class=\"image-url-btn\">確認</button>\r\n          </div>\r\n          <h3>是否上架</h3>\r\n          <div class=\"product-status-switch-container\">\r\n            <input\r\n              type=\"checkbox\"\r\n              id=\"productStatus\"\r\n              class=\"switch-checkbox\"\r\n              v-model=\"tempProduct.is_enabled\"\r\n            />\r\n            <label for=\"productStatus\" class=\"switch-label\"></label>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-product-container\">\r\n          <div class=\"product-name-container\">\r\n            <label for=\"name\" class=\"product-name\">商品名稱</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"name\"\r\n              class=\"product-name-input\"\r\n              v-model=\"tempProduct.title\"\r\n            />\r\n          </div>\r\n          <div class=\"product-two-column-layout\">\r\n            <div class=\"product-category-container\">\r\n              <label for=\"category\" class=\"product-category\">商品分類</label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"category\"\r\n                class=\"product-category-input\"\r\n                v-model=\"tempProduct.category\"\r\n              />\r\n            </div>\r\n            <div class=\"product-unit-container\">\r\n              <label for=\"unit\" class=\"product-unit\">單位</label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"unit\"\r\n                class=\"product-unit-input\"\r\n                v-model=\"tempProduct.unit\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"product-two-column-layout\">\r\n            <div class=\"product-origin-price-container\">\r\n              <label for=\"origin-price\" class=\"product-origin-price\"\r\n                >原價</label\r\n              >\r\n              <input\r\n                type=\"number\"\r\n                class=\"product-origin-price-input\"\r\n                id=\"origin-price\"\r\n                v-model.number=\"tempProduct.origin_price\"\r\n              />\r\n            </div>\r\n            <div class=\"product-price-container\">\r\n              <label for=\"price\" class=\"product-price\">售價</label>\r\n              <input\r\n                type=\"number\"\r\n                id=\"price\"\r\n                class=\"product-price-input\"\r\n                v-model.number=\"tempProduct.price\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"product-two-column-layout\">\r\n            <div class=\"product-calories-container\">\r\n              <label for=\"calories\" class=\"product-calories\">熱量</label>\r\n              <input\r\n                type=\"number\"\r\n                id=\"calories\"\r\n                class=\"product-calories-input\"\r\n                v-model.number=\"tempProduct.nutrientContent.calories\"\r\n              />\r\n            </div>\r\n            <div class=\"product-protein-container\">\r\n              <label for=\"protein\" class=\"product-protein\">蛋白質</label>\r\n              <input\r\n                type=\"number\"\r\n                id=\"protein\"\r\n                class=\"product-protein-input\"\r\n                v-model.number=\"tempProduct.nutrientContent.protein\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"product-two-column-layout\">\r\n            <div class=\"product-fat-container\">\r\n              <label for=\"fat\" class=\"product-fat\">脂肪</label>\r\n              <input\r\n                type=\"number\"\r\n                id=\"fat\"\r\n                class=\"product-fat-input\"\r\n                v-model.number=\"tempProduct.nutrientContent.fat\"\r\n              />\r\n            </div>\r\n            <div class=\"product-carbohydrates-container\">\r\n              <label for=\"carbohydrates\" class=\"product-carbohydrates\"\r\n                >碳水化合物</label\r\n              >\r\n              <input\r\n                type=\"number\"\r\n                id=\"carbohydrates\"\r\n                class=\"product-carbohydrates-input\"\r\n                v-model.number=\"tempProduct.nutrientContent.carbohydrates\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"product-summary-container\">\r\n            <label for=\"description\" class=\"product-summary\">商品摘要</label>\r\n            <textarea\r\n              id=\"description\"\r\n              class=\"product-summary-textarea\"\r\n              v-model=\"tempProduct.description\"\r\n            ></textarea>\r\n          </div>\r\n          <div class=\"product-content-container\">\r\n            <label for=\"content\" class=\"product-content\">商品說明</label>\r\n            <textarea\r\n              id=\"content\"\r\n              class=\"product-content-textarea\"\r\n              v-model=\"tempProduct.content\"\r\n            ></textarea>\r\n          </div>\r\n          <div class=\"modal-footer-container\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"product-modal-cancel\"\r\n              @click=\"$emit('close-modal')\"\r\n            >\r\n              取消\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              class=\"product-modal-create\"\r\n              @click=\"$emit('create-product', tempProduct)\"\r\n            >\r\n              {{ productModal.btn }}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      imageSwitch: \"upload\", // 切換上傳圖片 & 輸入圖片連結\r\n      tempProduct: { nutrientContent: {} }, // 接收父元件的資料\r\n    };\r\n  },\r\n  props: {\r\n    product: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n    productModal: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n  },\r\n  watch: {\r\n    // 單一數據流，使用tempProduct接收、更改、並回傳。\r\n    product() {\r\n      this.tempProduct = this.product;\r\n    },\r\n  },\r\n  methods: {\r\n    // 上傳檔案功能\r\n    uploadFile() {\r\n      const uploadedFile = this.$refs.fileInput.files[0];\r\n      this.tempProduct.image = uploadedFile.name;\r\n      const formData = new FormData();\r\n      formData.append(\"file-to-upload\", uploadedFile);\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/upload`;\r\n      this.$http.post(api, formData).then((res) => {\r\n        if (res.data.success) {\r\n          this.tempProduct.imageUrl = res.data.imageUrl;\r\n          this.$httpMessageState(res, \"圖片上傳\");\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>","import { render } from \"./ProductModal.vue?vue&type=template&id=5954590e\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Products.vue?vue&type=template&id=207fb6a6\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n"],"sourceRoot":""}