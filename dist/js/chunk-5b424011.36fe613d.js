(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b424011"],{"04d1":function(t,e,r){var i=r("342f"),o=i.match(/firefox\/(\d+)/i);t.exports=!!o&&+o[1]},"1dde":function(t,e,r){var i=r("d039"),o=r("b622"),c=r("2d00"),n=o("species");t.exports=function(t){return c>=51||!i((function(){var e=[],r=e.constructor={};return r[n]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},2532:function(t,e,r){"use strict";var i=r("23e7"),o=r("5a34"),c=r("1d80"),n=r("ab13");i({target:"String",proto:!0,forced:!n("includes")},{includes:function(t){return!!~String(c(this)).indexOf(o(t),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(t,e,r){var i=r("861d"),o=r("c6b6"),c=r("b622"),n=c("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[n])?!!e:"RegExp"==o(t))}},"4de4":function(t,e,r){"use strict";var i=r("23e7"),o=r("b727").filter,c=r("1dde"),n=c("filter");i({target:"Array",proto:!0,forced:!n},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},"4e82":function(t,e,r){"use strict";var i=r("23e7"),o=r("1c0b"),c=r("7b0b"),n=r("50c4"),s=r("d039"),a=r("addb"),u=r("a640"),l=r("04d1"),d=r("d998"),f=r("2d00"),h=r("512c"),p=[],g=p.sort,b=s((function(){p.sort(void 0)})),v=s((function(){p.sort(null)})),j=u("sort"),O=!s((function(){if(f)return f<70;if(!(l&&l>3)){if(d)return!0;if(h)return h<603;var t,e,r,i,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(i=0;i<47;i++)p.push({k:e+i,v:r})}for(p.sort((function(t,e){return e.v-t.v})),i=0;i<p.length;i++)e=p[i].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}})),m=b||!v||!j||!O,P=function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:String(e)>String(r)?1:-1}};i({target:"Array",proto:!0,forced:m},{sort:function(t){void 0!==t&&o(t);var e=c(this);if(O)return void 0===t?g.call(e):g.call(e,t);var r,i,s=[],u=n(e.length);for(i=0;i<u;i++)i in e&&s.push(e[i]);s=a(s,P(t)),r=s.length,i=0;while(i<r)e[i]=s[i++];while(i<u)delete e[i++];return e}})},"512c":function(t,e,r){var i=r("342f"),o=i.match(/AppleWebKit\/(\d+)\./);t.exports=!!o&&+o[1]},"5a34":function(t,e,r){var i=r("44e7");t.exports=function(t){if(i(t))throw TypeError("The method doesn't accept regular expressions");return t}},"65f0":function(t,e,r){var i=r("861d"),o=r("e8b5"),c=r("b622"),n=c("species");t.exports=function(t,e){var r;return o(t)&&(r=t.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?i(r)&&(r=r[n],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},7707:function(t,e,r){(function(){"use strict";function e(){var t=window,e=document;if(!("scrollBehavior"in e.documentElement.style)||!0===t.__forceSmoothScrollPolyfill__){var r=t.HTMLElement||t.Element,i=468,o={scroll:t.scroll||t.scrollTo,scrollBy:t.scrollBy,elementScroll:r.prototype.scroll||a,scrollIntoView:r.prototype.scrollIntoView},c=t.performance&&t.performance.now?t.performance.now.bind(t.performance):Date.now,n=s(t.navigator.userAgent)?1:0;t.scroll=t.scrollTo=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?b.call(t,e.body,void 0!==arguments[0].left?~~arguments[0].left:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:t.scrollY||t.pageYOffset):o.scroll.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!==typeof arguments[0]?arguments[0]:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:t.scrollY||t.pageYOffset))},t.scrollBy=function(){void 0!==arguments[0]&&(l(arguments[0])?o.scrollBy.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!==typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):b.call(t,e.body,~~arguments[0].left+(t.scrollX||t.pageXOffset),~~arguments[0].top+(t.scrollY||t.pageYOffset)))},r.prototype.scroll=r.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==l(arguments[0])){var t=arguments[0].left,e=arguments[0].top;b.call(this,this,"undefined"===typeof t?this.scrollLeft:~~t,"undefined"===typeof e?this.scrollTop:~~e)}else{if("number"===typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");o.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!==typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},r.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):o.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},r.prototype.scrollIntoView=function(){if(!0!==l(arguments[0])){var r=p(this),i=r.getBoundingClientRect(),c=this.getBoundingClientRect();r!==e.body?(b.call(this,r,r.scrollLeft+c.left-i.left,r.scrollTop+c.top-i.top),"fixed"!==t.getComputedStyle(r).position&&t.scrollBy({left:i.left,top:i.top,behavior:"smooth"})):t.scrollBy({left:c.left,top:c.top,behavior:"smooth"})}else o.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function s(t){var e=["MSIE ","Trident/","Edge/"];return new RegExp(e.join("|")).test(t)}function a(t,e){this.scrollLeft=t,this.scrollTop=e}function u(t){return.5*(1-Math.cos(Math.PI*t))}function l(t){if(null===t||"object"!==typeof t||void 0===t.behavior||"auto"===t.behavior||"instant"===t.behavior)return!0;if("object"===typeof t&&"smooth"===t.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+t.behavior+" is not a valid value for enumeration ScrollBehavior.")}function d(t,e){return"Y"===e?t.clientHeight+n<t.scrollHeight:"X"===e?t.clientWidth+n<t.scrollWidth:void 0}function f(e,r){var i=t.getComputedStyle(e,null)["overflow"+r];return"auto"===i||"scroll"===i}function h(t){var e=d(t,"Y")&&f(t,"Y"),r=d(t,"X")&&f(t,"X");return e||r}function p(t){while(t!==e.body&&!1===h(t))t=t.parentNode||t.host;return t}function g(e){var r,o,n,s=c(),a=(s-e.startTime)/i;a=a>1?1:a,r=u(a),o=e.startX+(e.x-e.startX)*r,n=e.startY+(e.y-e.startY)*r,e.method.call(e.scrollable,o,n),o===e.x&&n===e.y||t.requestAnimationFrame(g.bind(t,e))}function b(r,i,n){var s,u,l,d,f=c();r===e.body?(s=t,u=t.scrollX||t.pageXOffset,l=t.scrollY||t.pageYOffset,d=o.scroll):(s=r,u=r.scrollLeft,l=r.scrollTop,d=a),g({scrollable:s,method:d,startTime:f,startX:u,startY:l,x:i,y:n})}}t.exports={polyfill:e}})()},"83d0":function(t,e,r){"use strict";r("caad"),r("2532"),r("d81d"),r("99af"),r("a434");e["a"]={methods:{addToCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.shoppingCartProductList.carts.map((function(t){return t.product_id})).includes(t))this.$swal.fire("此商品以加入購物車");else{this.isLoading=!0;var r=this,i="".concat("https://vue3-course-api.hexschool.io","/api/").concat("ecommerce-website","/cart"),o={product_id:t,qty:e};r.$http.post(i,{data:o}).then((function(t){r.isLoading=!1,r.$httpMessageState(t,"加入購物車"),r.$emit("update-shopping-cart-products")}))}},localStorageFavoriteProductListManager:function(t,e){if("更新"===t){if(this.favoriteProductList.some((function(t){return t.id===e.id}))){var r=this.favoriteProductList.map((function(t){return t.id})).indexOf(e.id);return this.favoriteProductList.splice(r,1),localStorage.setItem("addedFavoriteProducts",JSON.stringify(this.favoriteProductList)),void this.$emit("update-favorite-products")}var i={id:e.id,imgUrl:e.imageUrl,title:e.title,price:e.price};this.favoriteProductList.push(i),localStorage.setItem("addedFavoriteProducts",JSON.stringify(this.favoriteProductList)),this.$emit("update-favorite-products")}else this.$emit("update-favorite-products")}}}},8418:function(t,e,r){"use strict";var i=r("c04e"),o=r("9bf2"),c=r("5c6c");t.exports=function(t,e,r){var n=i(e);n in t?o.f(t,n,c(0,r)):t[n]=r}},"962f":function(t,e,r){"use strict";e["a"]={data:function(){return{isLoading:!1,loadingObj:{bgc:"#FAF3F3",style:"dots",color:"#FF961F",height:128,width:128,opacity:.8}}}}},"99af":function(t,e,r){"use strict";var i=r("23e7"),o=r("d039"),c=r("e8b5"),n=r("861d"),s=r("7b0b"),a=r("50c4"),u=r("8418"),l=r("65f0"),d=r("1dde"),f=r("b622"),h=r("2d00"),p=f("isConcatSpreadable"),g=9007199254740991,b="Maximum allowed index exceeded",v=h>=51||!o((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),j=d("concat"),O=function(t){if(!n(t))return!1;var e=t[p];return void 0!==e?!!e:c(t)},m=!v||!j;i({target:"Array",proto:!0,forced:m},{concat:function(t){var e,r,i,o,c,n=s(this),d=l(n,0),f=0;for(e=-1,i=arguments.length;e<i;e++)if(c=-1===e?n:arguments[e],O(c)){if(o=a(c.length),f+o>g)throw TypeError(b);for(r=0;r<o;r++,f++)r in c&&u(d,f,c[r])}else{if(f>=g)throw TypeError(b);u(d,f++,c)}return d.length=f,d}})},a434:function(t,e,r){"use strict";var i=r("23e7"),o=r("23cb"),c=r("a691"),n=r("50c4"),s=r("7b0b"),a=r("65f0"),u=r("8418"),l=r("1dde"),d=l("splice"),f=Math.max,h=Math.min,p=9007199254740991,g="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var r,i,l,d,b,v,j=s(this),O=n(j.length),m=o(t,O),P=arguments.length;if(0===P?r=i=0:1===P?(r=0,i=O-m):(r=P-2,i=h(f(c(e),0),O-m)),O+r-i>p)throw TypeError(g);for(l=a(j,i),d=0;d<i;d++)b=m+d,b in j&&u(l,d,j[b]);if(l.length=i,r<i){for(d=m;d<O-i;d++)b=d+i,v=d+r,b in j?j[v]=j[b]:delete j[v];for(d=O;d>O-i+r;d--)delete j[d-1]}else if(r>i)for(d=O-i;d>m;d--)b=d+i-1,v=d+r-1,b in j?j[v]=j[b]:delete j[v];for(d=0;d<r;d++)j[d+m]=arguments[d+2];return j.length=O-i+r,l}})},ab13:function(t,e,r){var i=r("b622"),o=i("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[o]=!1,"/./"[t](e)}catch(i){}}return!1}},addb:function(t,e){var r=Math.floor,i=function(t,e){var n=t.length,s=r(n/2);return n<8?o(t,e):c(i(t.slice(0,s),e),i(t.slice(s),e),e)},o=function(t,e){var r,i,o=t.length,c=1;while(c<o){i=c,r=t[c];while(i&&e(t[i-1],r)>0)t[i]=t[--i];i!==c++&&(t[i]=r)}return t},c=function(t,e,r){var i=t.length,o=e.length,c=0,n=0,s=[];while(c<i||n<o)c<i&&n<o?s.push(r(t[c],e[n])<=0?t[c++]:e[n++]):s.push(c<i?t[c++]:e[n++]);return s};t.exports=i},b727:function(t,e,r){var i=r("0366"),o=r("44ad"),c=r("7b0b"),n=r("50c4"),s=r("65f0"),a=[].push,u=function(t){var e=1==t,r=2==t,u=3==t,l=4==t,d=6==t,f=7==t,h=5==t||d;return function(p,g,b,v){for(var j,O,m=c(p),P=o(m),y=i(g,b,3),w=n(P.length),S=0,T=v||s,C=e?T(p,w):r||f?T(p,0):void 0;w>S;S++)if((h||S in P)&&(j=P[S],O=y(j,S,m),t))if(e)C[S]=O;else if(O)switch(t){case 3:return!0;case 5:return j;case 6:return S;case 2:a.call(C,j)}else switch(t){case 4:return!1;case 7:a.call(C,j)}return d?-1:u||l?l:C}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},b855:function(t,e,r){"use strict";r.r(e);r("caad"),r("2532"),r("d81d");var i=r("7a23"),o={class:"user-page-products"},c={class:"products-header"},n={class:"products-title-container"},s={class:"products-title"},a={class:"products-total"},u={class:"products-filter"},l={class:"products-title-container-tablet-1024"},d={class:"products-title"},f={class:"products-total"},h={class:"searchbar-container-desktop-1280"},p=Object(i["j"])("i",{class:"bi bi-search"},null,-1),g={class:"products-filter-container"},b=Object(i["j"])("div",{class:"products-filter-title"},"類別",-1),v={class:"products-filter-content"},j={class:"products-sorting-container"},O=Object(i["j"])("div",{class:"products-sorting-title"},"排序",-1),m={class:"products-sorting-content"},P={class:"searchbar-container"},y=Object(i["j"])("i",{class:"bi bi-search"},null,-1),w={class:"sorting-container"},S={class:"price-range-container"},T=Object(i["j"])("div",{class:"price-range-title"},"價格區間",-1),C={class:"products-main"},k={class:"product-item-title"},L={class:"ellipsis"},x={class:"product-tag-group"},N={key:0,class:"nutrient-content"},F={class:"product-price"},M={key:0,class:"on-sale-price"},I={class:"card-btn-group"},A={key:1,class:"bi bi-heart"},V={key:0,class:"bi bi-cart-check-fill"},H={key:1,class:"bi bi-cart-plus-fill"},E={key:1,class:"overlay-container"},$=Object(i["h"])('<div class="overlay-img"></div><div class="overlay-title"></div><div class="overlay-tag"></div><div class="overlay-btn-group"><div class="overlay-btn-left"></div><div class="overlay-btn-right"></div></div>',4),X={key:2,class:"noProducts"},Y={key:0,class:"pagination-container"},_={class:"pagination"},B=Object(i["j"])("a",{href:"#",class:"page-link"},"«",-1),U=Object(i["j"])("a",{href:"#",class:"page-link"},"»",-1);function W(t,e,r,W,R,D){var J=Object(i["F"])("router-link"),q=Object(i["F"])("Loading");return Object(i["w"])(),Object(i["f"])("div",o,[Object(i["j"])("div",c,[Object(i["j"])("div",n,[Object(i["j"])("h1",s,Object(i["I"])(R.searchPriceStatus||R.productsSearchStatus?"搜尋商品":R.currentFilterTag),1),Object(i["j"])("h2",a,"共"+Object(i["I"])(D.categoryProductsLength)+"件商品",1)]),Object(i["j"])("div",u,[Object(i["j"])("div",l,[Object(i["j"])("h1",d,Object(i["I"])(R.searchPriceStatus||R.productsSearchStatus?"搜尋商品":R.currentFilterTag),1),Object(i["j"])("h2",f,"共"+Object(i["I"])(D.categoryProductsLength)+"件商品",1)]),Object(i["j"])("div",h,[p,Object(i["S"])(Object(i["j"])("input",{type:"search",placeholder:"搜尋","onUpdate:modelValue":e[1]||(e[1]=function(t){return R.searchWord=t}),onInput:e[2]||(e[2]=function(t){return D.productsSearch(R.searchWord)})},null,544),[[i["N"],R.searchWord,void 0,{trim:!0}]])]),Object(i["j"])("div",g,[b,Object(i["j"])("div",v,[Object(i["j"])("div",{class:["product-filter-item",{"product-filter-item-active":"全部商品"===R.currentFilterTag}],onClick:e[3]||(e[3]=function(t){return D.productsFilter("全部商品")})}," 全部商品 ",2),Object(i["j"])("div",{class:["product-filter-item",{"product-filter-item-active":"特價商品"===R.currentFilterTag}],onClick:e[4]||(e[4]=function(t){return D.productsFilter("特價商品")})}," 特價商品 ",2),(Object(i["w"])(!0),Object(i["f"])(i["a"],null,Object(i["D"])(R.categoryTag,(function(t,e){return Object(i["w"])(),Object(i["f"])("div",{class:["product-filter-item",{"product-filter-item-active":R.currentFilterTag===t}],key:e,onClick:function(e){return D.productsFilter("類別篩選",t)}},Object(i["I"])(t),11,["onClick"])})),128))])]),Object(i["j"])("div",j,[O,Object(i["j"])("div",m,[Object(i["j"])("div",{class:["product-sort-item",{"product-sort-item-active":"價錢"===R.currentSortTag}],onClick:e[5]||(e[5]=function(t){return D.productsSorter("價錢")})}," 價錢 ",2),Object(i["j"])("div",{class:["product-sort-item",{"product-sort-item-active":"熱量"===R.currentSortTag}],onClick:e[6]||(e[6]=function(t){return D.productsSorter("熱量")})}," 熱量 ",2),Object(i["j"])("div",{class:["product-sort-item",{"product-sort-item-active":"蛋白質"===R.currentSortTag}],onClick:e[7]||(e[7]=function(t){return D.productsSorter("蛋白質")})}," 蛋白質 ",2),Object(i["j"])("div",{class:["product-sort-item",{"product-sort-item-active":"脂肪"===R.currentSortTag}],onClick:e[8]||(e[8]=function(t){return D.productsSorter("脂肪")})}," 脂肪 ",2),Object(i["j"])("div",{class:["product-sort-item",{"product-sort-item-active":"碳水化合物"===R.currentSortTag}],onClick:e[9]||(e[9]=function(t){return D.productsSorter("碳水化合物")})}," 碳水化合物 ",2)])]),Object(i["j"])("div",P,[y,Object(i["S"])(Object(i["j"])("input",{type:"search",placeholder:"搜尋","onUpdate:modelValue":e[10]||(e[10]=function(t){return R.searchWord=t}),onInput:e[11]||(e[11]=function(t){return D.productsSearch(R.searchWord)})},null,544),[[i["N"],R.searchWord,void 0,{trim:!0}]])]),Object(i["j"])("div",w,[R.productsSorterToggle?Object(i["g"])("",!0):(Object(i["w"])(),Object(i["f"])("i",{key:0,class:"bi bi-sort-down-alt",onClick:e[12]||(e[12]=function(t){return D.sortingController(R.currentSortTag,"高到低")})})),R.productsSorterToggle?(Object(i["w"])(),Object(i["f"])("i",{key:1,class:"bi bi-sort-down",onClick:e[13]||(e[13]=function(t){return D.sortingController(R.currentSortTag,"低到高")})})):Object(i["g"])("",!0)]),Object(i["j"])("form",S,[T,Object(i["S"])(Object(i["j"])("input",{type:"text",placeholder:"$最小值",maxlength:"6",required:"",pattern:"[0-9]{0,6}","onUpdate:modelValue":e[14]||(e[14]=function(t){return R.searchPriceMinNum=t})},null,512),[[i["N"],R.searchPriceMinNum]]),Object(i["S"])(Object(i["j"])("input",{type:"text",placeholder:"$最大值",maxlength:"6",required:"",pattern:"[0-9]{0,6}","onUpdate:modelValue":e[15]||(e[15]=function(t){return R.searchPriceMaxNum=t})},null,512),[[i["N"],R.searchPriceMaxNum]]),Object(i["j"])("button",{onClick:e[16]||(e[16]=function(t){return D.searchPriceRangeProducts(R.searchPriceMinNum,R.searchPriceMaxNum)})}," 篩選 ")])])]),Object(i["j"])("div",C,[D.categoryProductsLength>0?(Object(i["w"])(),Object(i["f"])(i["c"],{key:0,tag:"div",name:"products-transition",class:"product-list"},{default:Object(i["R"])((function(){return[(Object(i["w"])(!0),Object(i["f"])(i["a"],null,Object(i["D"])(R.filteredProducts,(function(e){return Object(i["w"])(),Object(i["f"])("div",{class:"product-item-card products-transition",key:e.id},[Object(i["j"])(J,{to:"/userproduct/".concat(e.id),class:"item-link"},{default:Object(i["R"])((function(){return[Object(i["j"])("img",{src:e.imageUrl,alt:""},null,8,["src"])]})),_:2},1032,["to"]),Object(i["j"])("div",k,[Object(i["j"])("p",L,Object(i["I"])(e.title),1)]),Object(i["j"])("div",x,[Object(i["j"])("div",{class:["product-tag",{"nutrition-tag":!0===R.nutrientContentVisible}]},Object(i["I"])(R.nutrientContentVisible?R.currentSortTag:e.category),3),!0===R.nutrientContentVisible?(Object(i["w"])(),Object(i["f"])("div",N,Object(i["I"])(e.nutrientContent[R.nutrientContentName])+Object(i["I"])(R.nutrientContentUnit),1)):Object(i["g"])("",!0)]),Object(i["j"])("div",F,[Object(i["j"])("span",{class:["origin-price",{"origin-price-active":e.origin_price===e.price}]},"$"+Object(i["I"])(e.origin_price),3),e.origin_price!==e.price?(Object(i["w"])(),Object(i["f"])("span",M,"$"+Object(i["I"])(e.price),1)):Object(i["g"])("",!0)]),Object(i["j"])("div",I,[Object(i["j"])("div",{class:["favorite-list-btn",{"favorite-list-btn-disable":t.favoriteProductList.some((function(t){return t.id===e.id}))}],onClick:function(r){return t.localStorageFavoriteProductListManager("更新",e)}},[t.favoriteProductList.some((function(t){return t.id===e.id}))?(Object(i["w"])(),Object(i["f"])("i",{key:0,class:["bi bi-heart-fill",{"favorite-btn-disable":t.favoriteProductList.some((function(t){return t.id===e.id}))}]},null,2)):(Object(i["w"])(),Object(i["f"])("i",A))],10,["onClick"]),Object(i["j"])("div",{class:["shopping-cart-list-btn",{"shopping-cart-btn-disable":t.shoppingCartProductList.carts.map((function(t){return t.product_id})).includes(e.id)}],onClick:function(r){return t.addToCart(e.id)}},[t.shoppingCartProductList.carts.map((function(t){return t.product_id})).includes(e.id)?(Object(i["w"])(),Object(i["f"])("i",V)):(Object(i["w"])(),Object(i["f"])("i",H))],10,["onClick"])])])})),128))]})),_:1})):Object(i["g"])("",!0),D.categoryProductsLength<=0&&!R.productsSearchStatus?(Object(i["w"])(),Object(i["f"])("div",E,[(Object(i["w"])(),Object(i["f"])(i["a"],null,Object(i["D"])(12,(function(t,e){return Object(i["j"])("div",{class:"overlay",key:e},[$])})),64))])):Object(i["g"])("",!0),D.categoryProductsLength<=0&&R.productsSearchStatus?(Object(i["w"])(),Object(i["f"])("div",X," 目前尚無此商品，盡快為您準備中... ")):Object(i["g"])("",!0)]),D.categoryProductsLength>=12?(Object(i["w"])(),Object(i["f"])("div",Y,[Object(i["j"])("ul",_,[Object(i["j"])("li",{class:["page-item",{"page-item-disabled":1===R.pagination.currentPage}],onClick:e[17]||(e[17]=Object(i["T"])((function(t){return D.getPageProducts(R.pagination.currentPage-1)}),["prevent"]))},[B],2),(Object(i["w"])(!0),Object(i["f"])(i["a"],null,Object(i["D"])(R.pagination.totalPages,(function(t){return Object(i["w"])(),Object(i["f"])("li",{class:["page-item",{"page-item-active":R.pagination.currentPage===t}],key:t},[Object(i["j"])("a",{href:"#",class:["page-link",{"page-link-active":R.pagination.currentPage===t}],onClick:Object(i["T"])((function(e){return D.getPageProducts(t)}),["prevent"])},Object(i["I"])(t),11,["onClick"])],2)})),128)),Object(i["j"])("li",{class:["page-item",{"page-item-disabled":R.pagination.currentPage===R.pagination.totalPages}],onClick:e[18]||(e[18]=Object(i["T"])((function(t){return D.getPageProducts(R.pagination.currentPage+1)}),["prevent"]))},[U],2)])])):Object(i["g"])("",!0),Object(i["j"])(q,{active:R.isLoading,"background-color":t.loadingObj.bgc,loader:t.loadingObj.style,color:t.loadingObj.color,opacity:t.loadingObj.opacity,height:t.loadingObj.height,width:t.loadingObj.width},null,8,["active","background-color","loader","color","opacity","height","width"])])}r("4e82"),r("4de4"),r("99af"),r("fb6a");var R=r("7707"),D=r.n(R),J=r("83d0"),q=r("c668"),K=r("962f"),G={name:"Products",inject:["emitter"],mixins:[J["a"],q["a"],K["a"]],data:function(){return{products:[],categoryProducts:[],filteredProducts:[],pagination:{currentPage:"",totalPages:"",maxProductsPage:"",maxProductsNum:12},categoryTag:[],searchWord:"",productsSorterToggle:!1,nutrientContentVisible:!1,currentFilterTag:"全部商品",currentSortTag:"價錢",nutrientContentName:"",nutrientContentUnit:"",searchPriceMinNum:"",searchPriceMaxNum:"",searchPriceStatus:!1,productsSearchStatus:!1,isLoading:!1}},computed:{categoryProductsLength:function(){return this.categoryProducts.length},priceLowToHigh:function(){return this.filteredProducts.filter((function(t){return t})).sort((function(t,e){return t.price-e.price}))},priceHighToLow:function(){return this.filteredProducts.filter((function(t){return t})).sort((function(t,e){return e.price-t.price}))},nutritionLowToHigh:function(){var t=this.nutrientContentName;return this.filteredProducts.filter((function(t){return t.nutrientContent})).sort((function(e,r){return e.nutrientContent[t]-r.nutrientContent[t]}))},nutritionHighToLow:function(){var t=this.nutrientContentName;return this.filteredProducts.filter((function(t){return t.nutrientContent})).sort((function(e,r){return r.nutrientContent[t]-e.nutrientContent[t]}))}},methods:{getProducts:function(){var t=this,e=this,r="".concat("https://vue3-course-api.hexschool.io","/api/").concat("ecommerce-website","/products/all");e.$http.get(r).then((function(r){e.products=r.data.products;var i=t.products.map((function(t){return t.category}));e.categoryTag=i.filter((function(t,e,r){return r.indexOf(t)===e})),e.productsFilter()}))},productsFilter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"全部商品",e=arguments.length>1?arguments[1]:void 0;this.categoryProducts=this.products,this.searchWord="",this.productsSearchStatus=!1,this.searchPriceStatus=!1,this.searchPriceMinNum="",this.searchPriceMaxNum="",this.nutrientContentVisible=!1,this.currentSortTag="價錢",this.productsSorterToggle=!1,"全部商品"===t?this.currentFilterTag=t:"特價商品"===t?(this.currentFilterTag=t,this.categoryProducts=this.products.filter((function(t){return t.origin_price!==t.price}))):(this.currentFilterTag=e,this.categoryProducts=this.products.filter((function(t){return t.category===e}))),this.getPageProducts()},getPageProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.pagination.currentPage=t,this.pagination.totalPages=Math.ceil(this.categoryProducts.length/12),this.pagination.maxProductsPage=Math.floor(this.categoryProducts.length/12);var e=this.categoryProducts.length;1===t?this.pagination.maxProductsPage>=t?this.filteredProducts=this.categoryProducts.slice(0,this.pagination.maxProductsNum):this.filteredProducts=this.categoryProducts.slice(0,e):t>1&&this.pagination.maxProductsPage>=t?this.filteredProducts=this.categoryProducts.slice(this.pagination.maxProductsNum*(t-1),this.pagination.maxProductsNum*t):this.filteredProducts=this.categoryProducts.slice(this.pagination.maxProductsNum*(t-1),e),this.filteredProducts=this.priceLowToHigh,this.goTop()},productsSearch:function(t){this.searchPriceStatus=!1,this.searchPriceMinNum="",this.searchPriceMaxNum="";var e=this;e.productsSearchStatus=!0,e.categoryProducts=e.products.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())})),this.getPageProducts()},productsSorter:function(t){switch(this.productsSorterToggle=!1,t){case"價錢":this.nutrientContentVisible=!1,this.currentSortTag=t,this.filteredProducts=this.priceLowToHigh;break;case"熱量":this.nutrientContentVisible=!0,this.currentSortTag=t,this.nutrientContentName="calories",this.nutrientContentUnit="k",this.filteredProducts=this.nutritionLowToHigh;break;case"蛋白質":this.nutrientContentVisible=!0,this.currentSortTag=t,this.nutrientContentName="protein",this.nutrientContentUnit="g",this.filteredProducts=this.nutritionLowToHigh;break;case"脂肪":this.nutrientContentVisible=!0,this.currentSortTag=t,this.nutrientContentName="fat",this.nutrientContentUnit="g",this.filteredProducts=this.nutritionLowToHigh;break;case"碳水化合物":this.nutrientContentVisible=!0,this.currentSortTag=t,this.nutrientContentName="carbohydrates",this.nutrientContentUnit="g",this.filteredProducts=this.nutritionLowToHigh;break}},sortingController:function(t,e){this.productsSorterToggle="低到高"!==e,this.filteredProducts="價錢"===t?"低到高"===e?this.priceLowToHigh:this.priceHighToLow:"低到高"===e?this.nutritionLowToHigh:this.nutritionHighToLow},searchPriceRangeProducts:function(t,e){if(t&&""!==e&&e>t&&!isNaN(e)&&!isNaN(t)){this.searchWord="",this.productsSearchStatus=!1,this.searchPriceStatus=!0;var r=parseInt(t),i=parseInt(e),o=this.products.filter((function(t){return t.price<i})).filter((function(t){return t.price>r}));0===o.length?this.$swal.fire("此價格區間內查無商品"):(this.categoryProducts=o,this.getPageProducts())}else t&&""!==e&&e<t||isNaN(e)||isNaN(t)?this.$swal.fire("商品的價格區間輸入格式或範圍有錯誤"):this.$swal.fire("請先輸入想查詢的商品價格範圍哦!")},goTop:function(){D.a.polyfill(),window.scroll({top:0,left:0,behavior:"smooth"})}},created:function(){this.getProducts(),this.$emit("update-shopping-cart-products")}};G.render=W;e["default"]=G},c668:function(t,e,r){"use strict";e["a"]={props:{favoriteProducts:{type:Array,default:function(){return[]}},shoppingCartProducts:{type:Object,default:function(){return{}}}},data:function(){return{favoriteProductList:this.favoriteProducts,shoppingCartProductList:{carts:[]}}},watch:{favoriteProducts:function(){this.favoriteProductList=this.favoriteProducts},shoppingCartProducts:function(){this.shoppingCartProductList=this.shoppingCartProducts}}}},caad:function(t,e,r){"use strict";var i=r("23e7"),o=r("4d64").includes,c=r("44d2");i({target:"Array",proto:!0},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),c("includes")},d81d:function(t,e,r){"use strict";var i=r("23e7"),o=r("b727").map,c=r("1dde"),n=c("map");i({target:"Array",proto:!0,forced:!n},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},d998:function(t,e,r){var i=r("342f");t.exports=/MSIE|Trident/.test(i)},e8b5:function(t,e,r){var i=r("c6b6");t.exports=Array.isArray||function(t){return"Array"==i(t)}},fb6a:function(t,e,r){"use strict";var i=r("23e7"),o=r("861d"),c=r("e8b5"),n=r("23cb"),s=r("50c4"),a=r("fc6a"),u=r("8418"),l=r("b622"),d=r("1dde"),f=d("slice"),h=l("species"),p=[].slice,g=Math.max;i({target:"Array",proto:!0,forced:!f},{slice:function(t,e){var r,i,l,d=a(this),f=s(d.length),b=n(t,f),v=n(void 0===e?f:e,f);if(c(d)&&(r=d.constructor,"function"!=typeof r||r!==Array&&!c(r.prototype)?o(r)&&(r=r[h],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return p.call(d,b,v);for(i=new(void 0===r?Array:r)(g(v-b,0)),l=0;b<v;b++,l++)b in d&&u(i,l,d[b]);return i.length=l,i}})}}]);
//# sourceMappingURL=chunk-5b424011.36fe613d.js.map