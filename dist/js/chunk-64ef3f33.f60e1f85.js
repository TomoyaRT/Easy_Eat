(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64ef3f33"],{"1dde":function(t,e,r){var c=r("d039"),n=r("b622"),i=r("2d00"),o=n("species");t.exports=function(t){return i>=51||!c((function(){var e=[],r=e.constructor={};return r[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},2532:function(t,e,r){"use strict";var c=r("23e7"),n=r("5a34"),i=r("1d80"),o=r("ab13");c({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~String(i(this)).indexOf(n(t),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(t,e,r){var c=r("861d"),n=r("c6b6"),i=r("b622"),o=i("match");t.exports=function(t){var e;return c(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==n(t))}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var c=r("1d80"),n=r("5899"),i="["+n+"]",o=RegExp("^"+i+i+"*"),a=RegExp(i+i+"*$"),s=function(t){return function(e){var r=String(c(e));return 1&t&&(r=r.replace(o,"")),2&t&&(r=r.replace(a,"")),r}};t.exports={start:s(1),end:s(2),trim:s(3)}},"5a34":function(t,e,r){var c=r("44e7");t.exports=function(t){if(c(t))throw TypeError("The method doesn't accept regular expressions");return t}},"65f0":function(t,e,r){var c=r("861d"),n=r("e8b5"),i=r("b622"),o=i("species");t.exports=function(t,e){var r;return n(t)&&(r=t.constructor,"function"!=typeof r||r!==Array&&!n(r.prototype)?c(r)&&(r=r[o],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},7156:function(t,e,r){var c=r("861d"),n=r("d2bb");t.exports=function(t,e,r){var i,o;return n&&"function"==typeof(i=e.constructor)&&i!==r&&c(o=i.prototype)&&o!==r.prototype&&n(t,o),t}},"83d0":function(t,e,r){"use strict";r("caad"),r("2532"),r("d81d"),r("99af"),r("a434");e["a"]={methods:{addToCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.shoppingCartProductList.carts.map((function(t){return t.product_id})).includes(t))this.$swal.fire("此商品以加入購物車");else{this.isLoading=!0;var r=this,c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("ecommerce-website","/cart"),n={product_id:t,qty:e};r.$http.post(c,{data:n}).then((function(t){r.isLoading=!1,r.$httpMessageState(t,"加入購物車"),r.$emit("update-shopping-cart-products")}))}},localStorageFavoriteProductListManager:function(t,e){if("更新"===t){if(this.favoriteProductList.some((function(t){return t.id===e.id}))){var r=this.favoriteProductList.map((function(t){return t.id})).indexOf(e.id);return this.favoriteProductList.splice(r,1),localStorage.setItem("addedFavoriteProducts",JSON.stringify(this.favoriteProductList)),void this.$emit("update-favorite-products")}var c={id:e.id,imgUrl:e.imageUrl,title:e.title,price:e.price};this.favoriteProductList.push(c),localStorage.setItem("addedFavoriteProducts",JSON.stringify(this.favoriteProductList)),this.$emit("update-favorite-products")}else this.$emit("update-favorite-products")}}}},8418:function(t,e,r){"use strict";var c=r("c04e"),n=r("9bf2"),i=r("5c6c");t.exports=function(t,e,r){var o=c(e);o in t?n.f(t,o,i(0,r)):t[o]=r}},"99af":function(t,e,r){"use strict";var c=r("23e7"),n=r("d039"),i=r("e8b5"),o=r("861d"),a=r("7b0b"),s=r("50c4"),u=r("8418"),d=r("65f0"),l=r("1dde"),p=r("b622"),f=r("2d00"),b=p("isConcatSpreadable"),j=9007199254740991,h="Maximum allowed index exceeded",v=f>=51||!n((function(){var t=[];return t[b]=!1,t.concat()[0]!==t})),g=l("concat"),O=function(t){if(!o(t))return!1;var e=t[b];return void 0!==e?!!e:i(t)},m=!v||!g;c({target:"Array",proto:!0,forced:m},{concat:function(t){var e,r,c,n,i,o=a(this),l=d(o,0),p=0;for(e=-1,c=arguments.length;e<c;e++)if(i=-1===e?o:arguments[e],O(i)){if(n=s(i.length),p+n>j)throw TypeError(h);for(r=0;r<n;r++,p++)r in i&&u(l,p,i[r])}else{if(p>=j)throw TypeError(h);u(l,p++,i)}return l.length=p,l}})},a434:function(t,e,r){"use strict";var c=r("23e7"),n=r("23cb"),i=r("a691"),o=r("50c4"),a=r("7b0b"),s=r("65f0"),u=r("8418"),d=r("1dde"),l=d("splice"),p=Math.max,f=Math.min,b=9007199254740991,j="Maximum allowed length exceeded";c({target:"Array",proto:!0,forced:!l},{splice:function(t,e){var r,c,d,l,h,v,g=a(this),O=o(g.length),m=n(t,O),y=arguments.length;if(0===y?r=c=0:1===y?(r=0,c=O-m):(r=y-2,c=f(p(i(e),0),O-m)),O+r-c>b)throw TypeError(j);for(d=s(g,c),l=0;l<c;l++)h=m+l,h in g&&u(d,l,g[h]);if(d.length=c,r<c){for(l=m;l<O-c;l++)h=l+c,v=l+r,h in g?g[v]=g[h]:delete g[v];for(l=O;l>O-c+r;l--)delete g[l-1]}else if(r>c)for(l=O-c;l>m;l--)h=l+c-1,v=l+r-1,h in g?g[v]=g[h]:delete g[v];for(l=0;l<r;l++)g[l+m]=arguments[l+2];return g.length=O-c+r,d}})},a9e3:function(t,e,r){"use strict";var c=r("83ab"),n=r("da84"),i=r("94ca"),o=r("6eeb"),a=r("5135"),s=r("c6b6"),u=r("7156"),d=r("c04e"),l=r("d039"),p=r("7c73"),f=r("241c").f,b=r("06cf").f,j=r("9bf2").f,h=r("58a8").trim,v="Number",g=n[v],O=g.prototype,m=s(p(O))==v,y=function(t){var e,r,c,n,i,o,a,s,u=d(t,!1);if("string"==typeof u&&u.length>2)if(u=h(u),e=u.charCodeAt(0),43===e||45===e){if(r=u.charCodeAt(2),88===r||120===r)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:c=2,n=49;break;case 79:case 111:c=8,n=55;break;default:return+u}for(i=u.slice(2),o=i.length,a=0;a<o;a++)if(s=i.charCodeAt(a),s<48||s>n)return NaN;return parseInt(i,c)}return+u};if(i(v,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var I,C=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof C&&(m?l((function(){O.valueOf.call(r)})):s(r)!=v)?u(new g(y(e)),r,C):y(e)},x=c?f(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),P=0;x.length>P;P++)a(g,I=x[P])&&!a(C,I)&&j(C,I,b(g,I));C.prototype=O,O.constructor=C,o(n,v,C)}},ab13:function(t,e,r){var c=r("b622"),n=c("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,"/./"[t](e)}catch(c){}}return!1}},b727:function(t,e,r){var c=r("0366"),n=r("44ad"),i=r("7b0b"),o=r("50c4"),a=r("65f0"),s=[].push,u=function(t){var e=1==t,r=2==t,u=3==t,d=4==t,l=6==t,p=7==t,f=5==t||l;return function(b,j,h,v){for(var g,O,m=i(b),y=n(m),I=c(j,h,3),C=o(y.length),x=0,P=v||a,N=e?P(b,C):r||p?P(b,0):void 0;C>x;x++)if((f||x in y)&&(g=y[x],O=I(g,x,m),t))if(e)N[x]=O;else if(O)switch(t){case 3:return!0;case 5:return g;case 6:return x;case 2:s.call(N,g)}else switch(t){case 4:return!1;case 7:s.call(N,g)}return l?-1:u||d?d:N}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},c2ca:function(t,e,r){"use strict";r.r(e);r("caad"),r("2532"),r("d81d");var c=r("7a23"),n={class:"user-page-product"},i={class:"product-container"},o={class:"product-detail-container"},a={class:"product-tag"},s={class:"product-title"},u={class:"product-price-container"},d={class:"product-promotional-price"},l={class:"product-origin-price"},p={class:"product-nutrient-content"},f=Object(c["j"])("div",{class:"product-nutrition-title"},"營養成分",-1),b={class:"nutrient-content"},j=Object(c["j"])("div",{class:"content-group"},[Object(c["j"])("i",{class:"fas fa-fire-alt"}),Object(c["j"])("span",{class:"content"},"熱量 ")],-1),h={class:"number-group"},v={class:"number"},g=Object(c["j"])("span",{class:"unit"}," 卡",-1),O=Object(c["j"])("div",{class:"content-group"},[Object(c["j"])("i",{class:"fas fa-drumstick-bite"}),Object(c["j"])("span",{class:"content"},"蛋白質 ")],-1),m={class:"number-group"},y={class:"number"},I=Object(c["j"])("span",{class:"unit"}," 克",-1),C=Object(c["j"])("div",{class:"content-group"},[Object(c["j"])("i",{class:"fas fa-tint"}),Object(c["j"])("span",{class:"content"},"油脂 ")],-1),x={class:"number-group"},P={class:"number"},N=Object(c["j"])("span",{class:"unit"}," 克",-1),L=Object(c["j"])("div",{class:"content-group"},[Object(c["j"])("i",{class:"fas fa-seedling"}),Object(c["j"])("span",{class:"content"},"碳水化合物 ")],-1),w={class:"number-group"},A={class:"number"},q=Object(c["j"])("span",{class:"unit"}," 克",-1),E={class:"product-information"},F=Object(c["j"])("div",{class:"product-information-title"},"商品資訊",-1),S={class:"product-information-content"},T={class:"product-purchase-quantity"},_=Object(c["j"])("span",{class:"product-purchase-quantity-title"},"選購數量 ",-1),k={class:"product-btn-group"};function M(t,e,r,M,$,U){var R=Object(c["F"])("Loading");return Object(c["w"])(),Object(c["f"])("div",n,[Object(c["j"])("div",i,[Object(c["j"])("img",{src:$.product.imageUrl,alt:"產品圖片"},null,8,["src"]),Object(c["j"])("div",o,[Object(c["j"])("div",a,Object(c["I"])($.product.category),1),Object(c["j"])("h1",s,Object(c["I"])($.product.title),1),Object(c["j"])("div",u,[Object(c["j"])("div",d,Object(c["I"])(U.priceCalculation),1),Object(c["j"])("div",l,Object(c["I"])(U.originPriceCalculation),1)]),Object(c["j"])("div",p,[f,Object(c["j"])("ul",b,[Object(c["j"])("li",null,[j,Object(c["j"])("div",h,[Object(c["j"])("span",v,Object(c["I"])(U.caloriesCalculation),1),g])]),Object(c["j"])("li",null,[O,Object(c["j"])("div",m,[Object(c["j"])("span",y,Object(c["I"])(U.proteinCalculation),1),I])]),Object(c["j"])("li",null,[C,Object(c["j"])("div",x,[Object(c["j"])("span",P,Object(c["I"])(U.fatCalculation),1),N])]),Object(c["j"])("li",null,[L,Object(c["j"])("div",w,[Object(c["j"])("span",A,Object(c["I"])(U.carbohydratesCalculation),1),q])])])]),Object(c["j"])("div",E,[F,Object(c["j"])("p",S,Object(c["I"])($.product.content),1)]),Object(c["j"])("div",T,[_,Object(c["j"])("i",{class:["bi bi-dash-lg",{"dash-disabled":$.qty<=1}],onClick:e[1]||(e[1]=function(t){return $.qty--})},null,2),Object(c["S"])(Object(c["j"])("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=function(t){return $.qty=t}),minlength:"1",maxlength:"2",required:""},null,512),[[c["N"],$.qty]]),Object(c["j"])("i",{class:["bi bi-plus-lg",{"plus-disabled":$.qty>=99}],onClick:e[3]||(e[3]=function(t){return $.qty++})},null,2)]),Object(c["j"])("div",k,[Object(c["j"])("button",{class:["product-add-like",{"add-like-btn-disable":t.favoriteProductList.some((function(t){return t.id===$.product.id}))}],onClick:e[4]||(e[4]=function(e){return t.localStorageFavoriteProductListManager("更新",$.product)})},Object(c["I"])(t.favoriteProductList.some((function(t){return t.id===$.product.id}))?"已加入我的最愛":"加入我的最愛"),3),Object(c["j"])("button",{class:["product-add-cart",{"add-cart-btn-disable":t.shoppingCartProductList.carts.map((function(t){return t.product_id})).includes($.product.id)}],onClick:e[5]||(e[5]=function(e){return t.addToCart($.product.id,$.qty)})},Object(c["I"])(t.shoppingCartProductList.carts.map((function(t){return t.product_id})).includes($.product.id)?"已加入購物車":"加入購物車"),3)])])]),Object(c["j"])(R,{active:$.isLoading},null,8,["active"])])}r("b680"),r("a9e3"),r("99af");var $=r("83d0"),U=r("c668"),R={name:"Product",inject:["emitter"],mixins:[$["a"],U["a"]],data:function(){return{productId:"",product:{nutrientContent:{}},qty:1,isLoading:!1}},watch:{qty:function(t){if(t<1||isNaN(t))return this.qty=1}},computed:{priceCalculation:function(){return this.product.price*this.qty},originPriceCalculation:function(){return this.product.origin_price*this.qty},caloriesCalculation:function(){return parseFloat(Number(this.product.nutrientContent.calories*this.qty).toFixed(2))},proteinCalculation:function(){return parseFloat(Number(this.product.nutrientContent.protein*this.qty).toFixed(2))},fatCalculation:function(){return parseFloat(Number(this.product.nutrientContent.fat*this.qty).toFixed(2))},carbohydratesCalculation:function(){return parseFloat(Number(this.product.nutrientContent.carbohydrates*this.qty).toFixed(2))}},methods:{getProduct:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("ecommerce-website","/product/").concat(t.productId);t.$http.get(e).then((function(e){e.data.success?t.product=e.data.product:console.log("API串聯失敗")}))}},created:function(){this.productId=this.$route.params.id,this.getProduct(),this.$emit("update-shopping-cart-products")}};R.render=M;e["default"]=R},c668:function(t,e,r){"use strict";e["a"]={props:{favoriteProducts:{type:Array,default:function(){return[]}},shoppingCartProducts:{type:Object,default:function(){return{}}}},data:function(){return{favoriteProductList:this.favoriteProducts,shoppingCartProductList:{carts:[]}}},watch:{favoriteProducts:function(){this.favoriteProductList=this.favoriteProducts},shoppingCartProducts:function(){this.shoppingCartProductList=this.shoppingCartProducts}}}},caad:function(t,e,r){"use strict";var c=r("23e7"),n=r("4d64").includes,i=r("44d2");c({target:"Array",proto:!0},{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},d81d:function(t,e,r){"use strict";var c=r("23e7"),n=r("b727").map,i=r("1dde"),o=i("map");c({target:"Array",proto:!0,forced:!o},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(t,e,r){var c=r("c6b6");t.exports=Array.isArray||function(t){return"Array"==c(t)}}}]);
//# sourceMappingURL=chunk-64ef3f33.f60e1f85.js.map