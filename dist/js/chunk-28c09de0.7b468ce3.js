(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28c09de0"],{"1dde":function(t,e,a){var n=a("d039"),r=a("b622"),o=a("2d00"),i=r("species");t.exports=function(t){return o>=51||!n((function(){var e=[],a=e.constructor={};return a[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"35da":function(t,e,a){},"36e1":function(t,e,a){t.exports=a.p+"img/Logo2.bd5136d6.png"},"4de4":function(t,e,a){"use strict";var n=a("23e7"),r=a("b727").filter,o=a("1dde"),i=o("filter");n({target:"Array",proto:!0,forced:!i},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"5f1d":function(t,e,a){},"65f0":function(t,e,a){var n=a("861d"),r=a("e8b5"),o=a("b622"),i=o("species");t.exports=function(t,e){var a;return r(t)&&(a=t.constructor,"function"!=typeof a||a!==Array&&!r(a.prototype)?n(a)&&(a=a[i],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===e?0:e)}},8418:function(t,e,a){"use strict";var n=a("c04e"),r=a("9bf2"),o=a("5c6c");t.exports=function(t,e,a){var i=n(e);i in t?r.f(t,i,o(0,a)):t[i]=a}},"8a2d":function(t,e,a){"use strict";a("35da")},"962f":function(t,e,a){"use strict";e["a"]={data:function(){return{isLoading:!1,loadingObj:{bgc:"#FFFFFF",style:"dots",color:"#FF961F",height:128,width:128,opacity:.8}}}}},"99af":function(t,e,a){"use strict";var n=a("23e7"),r=a("d039"),o=a("e8b5"),i=a("861d"),c=a("7b0b"),s=a("50c4"),u=a("8418"),d=a("65f0"),l=a("1dde"),b=a("b622"),g=a("2d00"),p=b("isConcatSpreadable"),f=9007199254740991,h="Maximum allowed index exceeded",v=g>=51||!r((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),j=l("concat"),m=function(t){if(!i(t))return!1;var e=t[p];return void 0!==e?!!e:o(t)},O=!v||!j;n({target:"Array",proto:!0,forced:O},{concat:function(t){var e,a,n,r,o,i=c(this),l=d(i,0),b=0;for(e=-1,n=arguments.length;e<n;e++)if(o=-1===e?i:arguments[e],m(o)){if(r=s(o.length),b+r>f)throw TypeError(h);for(a=0;a<r;a++,b++)a in o&&u(l,b,o[a])}else{if(b>=f)throw TypeError(h);u(l,b++,o)}return l.length=b,l}})},a55b:function(t,e,a){"use strict";a.r(e);var n=a("7a23"),r=Object(n["U"])("data-v-2bf7deff");Object(n["z"])("data-v-2bf7deff");var o={class:"admin-page-container"},i={class:"admin-page-main"};Object(n["x"])();var c=r((function(t,e,a,r,c,s){var u=Object(n["F"])("Sidebar"),d=Object(n["F"])("Navbar"),l=Object(n["F"])("ToastMessages"),b=Object(n["F"])("router-view"),g=Object(n["F"])("Loading");return Object(n["w"])(),Object(n["f"])("div",o,[Object(n["j"])("div",{class:["admin-page-sidebar-overlay",{"sidebar-overlay-active":c.sidebarStatus}],onClick:e[1]||(e[1]=function(t){return c.sidebarStatus=!1})},null,2),Object(n["j"])(u,{class:["admin-page-sidebar",{"sidebar-active":c.sidebarStatus}],onCloseSidebar:e[2]||(e[2]=function(t){return c.sidebarStatus=!1}),"current-page":c.currentPage,onChangeCurrentPage:s.changeCurrentPage},null,8,["class","current-page","onChangeCurrentPage"]),Object(n["j"])("div",i,[Object(n["j"])(d,{class:"admin-page-navbar",onOpenSidebar:e[3]||(e[3]=function(t){return c.sidebarStatus=!0}),"navbar-title":c.navbarPageTitle,"navbar-btn-title":c.navbarOrderBtnTitle},null,8,["navbar-title","navbar-btn-title"]),Object(n["j"])(l),Object(n["j"])(b,{class:"admin-page-products","products-length":c.productsLength,"orders-length":c.ordersData.ordersNum,"coupons-length":c.couponsData.couponsNum,"total-income":c.totalIncome,onChangeNavbarPageTitle:s.changeNavbarPageTitle,onChangeNavbarBtnTitle:s.changeNavbarBtnTitle,onChangeCurrentPage:s.changeCurrentPage},null,8,["products-length","orders-length","coupons-length","total-income","onChangeNavbarPageTitle","onChangeNavbarBtnTitle","onChangeCurrentPage"])]),Object(n["j"])(g,{active:t.isLoading,"background-color":t.loadingObj.bgc,loader:t.loadingObj.style,color:t.loadingObj.color,opacity:t.loadingObj.opacity,height:t.loadingObj.height,width:t.loadingObj.width},null,8,["active","background-color","loader","color","opacity","height","width"])])})),s=(a("ac1f"),a("5319"),a("99af"),a("b64b"),a("b680"),a("d81d"),a("4de4"),a("b0c0"),a("cfb9")),u=a("f367"),d=a("36e1"),l=a.n(d),b={class:"admin-page-sidebar"},g={class:"sidebar-logo-container"},p=Object(n["j"])("img",{src:l.a,alt:"網站的Logo",class:"sidebar-logo"},null,-1),f={class:"admin-page-group"},h=Object(n["j"])("i",{class:"bi bi-bar-chart-line-fill"},null,-1),v=Object(n["i"])(" 資訊儀表板 "),j=Object(n["j"])("i",{class:"bi bi-bag-check-fill"},null,-1),m=Object(n["i"])(" 商品管理 "),O=Object(n["j"])("i",{class:"bi bi-file-text"},null,-1),y=Object(n["i"])(" 訂單管理 "),T=Object(n["j"])("i",{class:"bi bi-receipt"},null,-1),C=Object(n["i"])(" 優惠券管理 "),A={class:"sidebar-logout-container"},P=Object(n["j"])("i",{class:"bi bi-arrow-left"},null,-1);function w(t,e,a,r,o,i){var c=Object(n["F"])("router-link");return Object(n["w"])(),Object(n["f"])("div",b,[Object(n["j"])("div",g,[Object(n["j"])("i",{class:"bi bi-x-lg",onClick:e[1]||(e[1]=function(e){return t.$emit("close-sidebar")})}),Object(n["j"])(c,{to:{name:"Home"}},{default:Object(n["R"])((function(){return[p]})),_:1})]),Object(n["j"])("div",f,[Object(n["j"])(c,{to:"/adminHome",class:["admin-page-title",{"page-active":"AdminHome"===a.currentPage}],onClick:e[2]||(e[2]=function(t){return i.changeCurrentPage("AdminHome")})},{default:Object(n["R"])((function(){return[h,v]})),_:1},8,["class"]),Object(n["j"])(c,{to:"/adminproducts",class:["admin-page-title",{"page-active":"AdminProducts"===a.currentPage}],onClick:e[3]||(e[3]=function(t){return i.changeCurrentPage("AdminProducts")})},{default:Object(n["R"])((function(){return[j,m]})),_:1},8,["class"]),Object(n["j"])(c,{to:"/adminorders",class:["admin-page-title",{"page-active":"AdminOrders"===a.currentPage}],onClick:e[4]||(e[4]=function(t){return i.changeCurrentPage("AdminOrders")})},{default:Object(n["R"])((function(){return[O,y]})),_:1},8,["class"]),Object(n["j"])(c,{to:"/admincoupons",class:["admin-page-title",{"page-active":"AdminCoupons"===a.currentPage}],onClick:e[5]||(e[5]=function(t){return i.changeCurrentPage("AdminCoupons")})},{default:Object(n["R"])((function(){return[T,C]})),_:1},8,["class"])]),Object(n["j"])("div",A,[P,Object(n["j"])("span",{class:"logout",onClick:e[6]||(e[6]=Object(n["T"])((function(){return i.logout&&i.logout.apply(i,arguments)}),["prevent"]))},"登出")])])}var k={props:{currentPage:{type:String,default:function(){return""}}},methods:{changeCurrentPage:function(t){this.$emit("close-sidebar"),this.$emit("change-current-page",t)},logout:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/logout");this.$http.post(e,this.user).then((function(e){e.data.success&&t.$router.push({name:"Login"})}))}}};k.render=w;var D=k,N={class:"navbar-mobile-container"},x={class:"navbar-header-container"},I={class:"navbar-title"},L={class:"navbar-desktop-container"},F={class:"navbar-title"};function B(t,e,a,r,o,i){return Object(n["w"])(),Object(n["f"])("div",{class:["admin-page-navbar",{"home-page-navbar":"資訊儀表板"===o.pageTitle}]},[Object(n["j"])("div",N,[Object(n["j"])("div",x,[Object(n["j"])("i",{class:"bi bi-list",onClick:e[1]||(e[1]=function(e){return t.$emit("open-sidebar")})}),Object(n["j"])("h1",I,Object(n["I"])(o.pageTitle),1),"回前台首頁"===o.orderBtnTitle?(Object(n["w"])(),Object(n["f"])("i",{key:0,class:"bi bi-house-door",onClick:e[2]||(e[2]=function(t){return i.emitter.emit("open-modal",o.pageTitle)})})):"清除所有訂單"===o.orderBtnTitle?(Object(n["w"])(),Object(n["f"])("i",{key:1,class:"bi bi-trash2-fill",onClick:e[3]||(e[3]=function(t){return i.emitter.emit("open-modal",o.pageTitle)})})):(Object(n["w"])(),Object(n["f"])("i",{key:2,class:"bi bi-plus-lg",onClick:e[4]||(e[4]=function(t){return i.emitter.emit("open-modal",o.pageTitle)})}))])]),Object(n["j"])("div",L,[Object(n["j"])("h1",F,Object(n["I"])(o.pageTitle),1),Object(n["j"])("button",{type:"button",class:["navbar-button",{"order-page-btn":"清除所有訂單"===o.orderBtnTitle}],onClick:e[5]||(e[5]=function(t){return i.emitter.emit("open-modal",o.pageTitle)})},Object(n["I"])(o.orderBtnTitle),3)])],2)}var $={inject:["emitter"],props:{navbarTitle:{type:String,default:function(){return""}},navbarBtnTitle:{type:String,default:function(){return""}}},data:function(){return{pageTitle:"商品管理",orderBtnTitle:"建立商品"}},watch:{navbarTitle:function(){this.pageTitle=this.navbarTitle},navbarBtnTitle:function(){this.orderBtnTitle=this.navbarBtnTitle}}};$.render=B;var S=$,_=a("962f"),M={mixins:[_["a"]],components:{ToastMessages:u["a"],Sidebar:D,Navbar:S},provide:function(){return{emitter:s["a"]}},data:function(){return{sidebarStatus:!1,currentPage:"AdminHome",navbarPageTitle:"",navbarOrderBtnTitle:"",productsLength:0,ordersData:{page:1,pageNum:0,ordersArray:[],ordersNum:0},couponsData:{page:1,pageNum:0,couponsArray:[],couponsNum:0},totalIncome:0}},methods:{changeCurrentPage:function(t){this.currentPage=t},changeNavbarPageTitle:function(t){this.navbarPageTitle=t},changeNavbarBtnTitle:function(t){this.navbarOrderBtnTitle=t},loginVerification:function(){var t=this,e=document.cookie.replace(/(?:(?:^|.*;\s*)ecToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=e;var a="".concat("https://vue3-course-api.hexschool.io","/api/user/check");this.$http.post(a,this.user).then((function(e){e.data.success||t.$router.push({name:"Login"})}))},getProducts:function(){var t=this;this.isLoading=!0;var e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("ecommerce-website","/admin/products/all");this.$http.get(e).then((function(e){e.data.success&&(t.productsLength=Object.keys(e.data.products).length,t.isLoading=!1)}))},getOrders:function(){var t=this;this.isLoading=!0;var e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("ecommerce-website","/admin/orders?page=").concat(this.ordersData.page);this.$http.get(e).then((function(e){e.data.success?(t.ordersData.ordersArray=t.ordersData.ordersArray.concat(e.data.orders),t.ordersData.pageNum=e.data.orders.length,t.ordersAPIManager()):(t.ordersData.ordersNum=t.ordersData.ordersArray.length,t.getTotalIncome(),t.isLoading=!1)}))},ordersAPIManager:function(){10===this.ordersData.pageNum?(this.ordersData.page+=1,this.getOrders()):(this.ordersData.ordersNum=this.ordersData.ordersArray.length,this.getTotalIncome(),this.isLoading=!1)},getCoupons:function(){var t=this;this.isLoading=!0;var e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("ecommerce-website","/admin/coupons?page=").concat(this.couponsData.page);this.$http.get(e).then((function(e){e.data.success?(t.couponsData.couponsArray=t.couponsData.couponsArray.concat(e.data.coupons),t.couponsData.pageNum=e.data.coupons.length,t.couponsAPIManager()):(t.couponsData.couponsNum=t.couponsData.couponsArray.length,t.isLoading=!1)}))},couponsAPIManager:function(){10===this.couponsData.pageNum?(this.couponsData.page+=1,this.getCoupons()):(this.couponsData.couponsNum=this.couponsData.couponsArray.length,this.isLoading=!1)},getTotalIncome:function(){this.isLoading=!0,this.ordersData.ordersNum>0?this.totalIncome=this.ordersData.ordersArray.filter((function(t){return t.is_paid})).map((function(t){return t.total})).reduce((function(t,e){return t+e})).toFixed(0):this.totalIncome=0,this.isLoading=!1}},created:function(){this.loginVerification(),this.currentPage=this.$route.name,this.getProducts(),this.getOrders(),this.getCoupons()}};a("8a2d");M.render=c,M.__scopeId="data-v-2bf7deff";e["default"]=M},a60e:function(t,e,a){"use strict";a("5f1d")},b0c0:function(t,e,a){var n=a("83ab"),r=a("9bf2").f,o=Function.prototype,i=o.toString,c=/^\s*function ([^ (]*)/,s="name";n&&!(s in o)&&r(o,s,{configurable:!0,get:function(){try{return i.call(this).match(c)[1]}catch(t){return""}}})},b64b:function(t,e,a){var n=a("23e7"),r=a("7b0b"),o=a("df75"),i=a("d039"),c=i((function(){o(1)}));n({target:"Object",stat:!0,forced:c},{keys:function(t){return o(r(t))}})},b727:function(t,e,a){var n=a("0366"),r=a("44ad"),o=a("7b0b"),i=a("50c4"),c=a("65f0"),s=[].push,u=function(t){var e=1==t,a=2==t,u=3==t,d=4==t,l=6==t,b=7==t,g=5==t||l;return function(p,f,h,v){for(var j,m,O=o(p),y=r(O),T=n(f,h,3),C=i(y.length),A=0,P=v||c,w=e?P(p,C):a||b?P(p,0):void 0;C>A;A++)if((g||A in y)&&(j=y[A],m=T(j,A,O),t))if(e)w[A]=m;else if(m)switch(t){case 3:return!0;case 5:return j;case 6:return A;case 2:s.call(w,j)}else switch(t){case 4:return!1;case 7:s.call(w,j)}return l?-1:u||d?d:w}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},d81d:function(t,e,a){"use strict";var n=a("23e7"),r=a("b727").map,o=a("1dde"),i=o("map");n({target:"Array",proto:!0,forced:!i},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(t,e,a){var n=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}},eb1e:function(t,e,a){"use strict";a("eb6a")},eb6a:function(t,e,a){},f367:function(t,e,a){"use strict";var n=a("7a23"),r=Object(n["U"])("data-v-4a0d3fba");Object(n["z"])("data-v-4a0d3fba");var o={class:"toastMessages"};Object(n["x"])();var i=r((function(t,e,a,r,i,c){var s=Object(n["F"])("Toast");return Object(n["w"])(),Object(n["f"])("div",o,[(Object(n["w"])(!0),Object(n["f"])(n["a"],null,Object(n["D"])(i.messages,(function(t,e){return Object(n["w"])(),Object(n["f"])(s,{key:e,msg:t},null,8,["msg"])})),128))])})),c=Object(n["U"])("data-v-d417043e");Object(n["z"])("data-v-d417043e");var s={key:0,class:"toast-container"},u={class:"toast-title"},d={key:0,class:"toast-supplement"},l={class:"supplement-content"},b=Object(n["j"])("i",{class:"bi bi-exclamation-circle"},null,-1);Object(n["x"])();var g=c((function(t,e,a,r,o,i){return!0===o.toastActive?(Object(n["w"])(),Object(n["f"])("div",s,[Object(n["j"])("div",{class:["toast",{"status-success":"success"===a.msg.style,"status-danger":"danger"===a.msg.style}]},[Object(n["j"])("div",u,Object(n["I"])(a.msg.title),1),Object(n["j"])("i",{class:"bi bi-x-octagon",onClick:e[1]||(e[1]=function(t){return o.toastActive=!1})})],2),"danger"===a.msg.style?(Object(n["w"])(),Object(n["f"])("div",d,[Object(n["j"])("div",l,Object(n["I"])(a.msg.content),1),b])):Object(n["g"])("",!0)])):Object(n["g"])("",!0)})),p={data:function(){return{toastActive:!1}},props:["msg"],created:function(){var t=this;this.toastActive=!0,setTimeout((function(){t.toastActive=!1}),2500)}};a("eb1e");p.render=g,p.__scopeId="data-v-d417043e";var f=p,h={components:{Toast:f},data:function(){return{messages:[]}},inject:["emitter"],mounted:function(){var t=this;this.emitter.on("push-message",(function(e){var a=e.style,n=void 0===a?"success":a,r=e.title,o=e.content;t.messages.push({style:n,title:r,content:o})}))}};a("a60e");h.render=i,h.__scopeId="data-v-4a0d3fba";e["a"]=h}}]);
//# sourceMappingURL=chunk-28c09de0.7b468ce3.js.map